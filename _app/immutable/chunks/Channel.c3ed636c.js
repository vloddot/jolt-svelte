import{s as B,C as v,D as b,h as w,d as f,j as c,i as $,z as y,u as _,e as C,r as A,a as F,l as q,c as J,m as K,n as O,q as P,f as Q,g as X,G as N}from"./scheduler.e5faf66b.js";import{h as T,u as Z}from"./await_block.61db03c9.js";import{S as G,i as z,g as U,t as d,c as j,a as h,b as I,d as D,m as M,e as S}from"./index.fd37aab3.js";import{b as x}from"./paths.16ac5fdf.js";import{g as E,a as ee,c as te}from"./context.634f79ee.js";import{a as ne,b as re,g as V}from"./util.650f29ea.js";import{s as le,a as se}from"./context.fa34f1f8.js";import{P as oe}from"./PencilSquareIcon.e3b6c7ad.js";import{C as H}from"./ChannelItem.e177d5e4.js";import{U as Y}from"./UserIcon.b7da56f9.js";function ie(l){let e,r;return{c(){e=v("svg"),r=v("path"),this.h()},l(t){e=b(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var n=w(e);r=b(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),w(r).forEach(f),n.forEach(f),this.h()},h(){c(r,"stroke-linecap","round"),c(r,"stroke-linejoin","round"),c(r,"d","M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"width","24px"),c(e,"height","24px")},m(t,n){$(t,e,n),y(e,r)},p:_,i:_,o:_,d(t){t&&f(e)}}}class ae extends G{constructor(e){super(),z(this,e,null,ie,B,{})}}function ce(l){let e,r;return{c(){e=v("svg"),r=v("path"),this.h()},l(t){e=b(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var n=w(e);r=b(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),w(r).forEach(f),n.forEach(f),this.h()},h(){c(r,"stroke-linecap","round"),c(r,"stroke-linejoin","round"),c(r,"d","M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"width","24px"),c(e,"height","24px")},m(t,n){$(t,e,n),y(e,r)},p:_,i:_,o:_,d(t){t&&f(e)}}}class ue extends G{constructor(e){super(),z(this,e,null,ce,B,{})}}function fe(l){let e,r,t,n,s;return{c(){e=v("svg"),r=v("path"),t=v("path"),n=v("path"),s=v("path"),this.h()},l(o){e=b(o,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0});var u=w(e);r=b(u,"path",{stroke:!0,d:!0,fill:!0}),w(r).forEach(f),t=b(u,"path",{d:!0}),w(t).forEach(f),n=b(u,"path",{d:!0}),w(n).forEach(f),s=b(u,"path",{d:!0}),w(s).forEach(f),u.forEach(f),this.h()},h(){c(r,"stroke","none"),c(r,"d","M0 0h24v24H0z"),c(r,"fill","none"),c(t,"d","M15 8a5 5 0 0 1 0 8"),c(n,"d","M17.7 5a9 9 0 0 1 0 14"),c(s,"d","M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","2"),c(e,"stroke","currentColor"),c(e,"fill","none"),c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round")},m(o,u){$(o,e,u),y(e,r),y(e,t),y(e,n),y(e,s)},p:_,i:_,o:_,d(o){o&&f(e)}}}class _e extends G{constructor(e){super(),z(this,e,null,fe,B,{})}}function L(l){const e=l[7](l[0]);l[12]=e;const r=l[0].channel_type=="SavedMessages"?"Saved Notes":l[0].name;l[11]=r}function R(l){const e=re(l[10]);l[11]=e}function pe(l){let e,r;return e=new H({props:{href:l[8](l[0]._id),selected:l[2]==l[0]._id,$$slots:{default:[ge]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,n){M(e,t,n),r=!0},p(t,n){const s={};n&1&&(s.href=t[8](t[0]._id)),n&5&&(s.selected=t[2]==t[0]._id),n&8193&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){S(e,t)}}}function he(l){let e,r,t=l[0].active&&W(l);return{c(){t&&t.c(),e=C()},l(n){t&&t.l(n),e=C()},m(n,s){t&&t.m(n,s),$(n,e,s),r=!0},p(n,s){n[0].active?t?(t.p(n,s),s&1&&h(t,1)):(t=W(n),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(U(),d(t,1,1,()=>{t=null}),j())},i(n){r||(h(t),r=!0)},o(n){d(t),r=!1},d(n){n&&f(e),t&&t.d(n)}}}function me(l){let e,r,t;var n=l[12];function s(o){return{}}return n&&(e=P(n,s())),{c(){e&&I(e.$$.fragment),r=C()},l(o){e&&D(e.$$.fragment,o),r=C()},m(o,u){e&&M(e,o,u),$(o,r,u),t=!0},p(o,u){if(u&1&&n!==(n=o[12])){if(e){U();const i=e;d(i.$$.fragment,1,0,()=>{S(i,1)}),j()}n?(e=P(n,s()),I(e.$$.fragment),h(e.$$.fragment,1),M(e,r.parentNode,r)):e=null}},i(o){t||(e&&h(e.$$.fragment,o),t=!0)},o(o){e&&d(e.$$.fragment,o),t=!1},d(o){o&&f(r),e&&S(e,o)}}}function de(l){let e,r,t;return{c(){e=Q("img"),this.h()},l(n){e=X(n,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){c(e,"class","cover"),N(e.src,r=l[12])||c(e,"src",r),c(e,"alt",t=l[11])},m(n,s){$(n,e,s)},p(n,s){s&1&&!N(e.src,r=n[12])&&c(e,"src",r),s&1&&t!==(t=n[11])&&c(e,"alt",t)},i:_,o:_,d(n){n&&f(e)}}}function ge(l){L(l);let e,r,t,n=l[11]+"",s,o;const u=[de,me],i=[];function g(a,p){return typeof a[12]=="string"?0:1}return e=g(l),r=i[e]=u[e](l),{c(){r.c(),t=F(),s=q(n)},l(a){r.l(a),t=J(a),s=K(a,n)},m(a,p){i[e].m(a,p),$(a,t,p),$(a,s,p),o=!0},p(a,p){L(a);let k=e;e=g(a),e===k?i[e].p(a,p):(U(),d(i[k],1,1,()=>{i[k]=null}),j(),r=i[e],r?r.p(a,p):(r=i[e]=u[e](a),r.c()),h(r,1),r.m(t.parentNode,t)),(!o||p&1)&&n!==(n=a[11]+"")&&O(s,n)},i(a){o||(h(r),o=!0)},o(a){d(r),o=!1},d(a){a&&(f(t),f(s)),i[e].d(a)}}}function W(l){var s;let e,r,t,n={ctx:l,current:null,token:null,hasCatch:!0,pending:Ie,then:ve,catch:$e,value:10,blocks:[,,,]};return T(r=l[4].api.fetchUser(l[0].recipients[0]==((s=l[4].user)==null?void 0:s._id)?l[0].recipients[1]:l[0].recipients[0]),n),{c(){e=C(),n.block.c()},l(o){e=C(),n.block.l(o)},m(o,u){$(o,e,u),n.block.m(o,n.anchor=u),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(o,u){var i;l=o,n.ctx=l,u&1&&r!==(r=l[4].api.fetchUser(l[0].recipients[0]==((i=l[4].user)==null?void 0:i._id)?l[0].recipients[1]:l[0].recipients[0]))&&T(r,n)||Z(n,l,u)},i(o){t||(h(n.block),t=!0)},o(o){for(let u=0;u<3;u+=1){const i=n.blocks[u];d(i)}t=!1},d(o){o&&f(e),n.block.d(o),n.token=null,n=null}}}function $e(l){let e,r;return e=new H({props:{href:l[8](l[0]._id),selected:l[2]==l[0]._id,$$slots:{default:[ke]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,n){M(e,t,n),r=!0},p(t,n){const s={};n&1&&(s.href=t[8](t[0]._id)),n&5&&(s.selected=t[2]==t[0]._id),n&8192&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){S(e,t)}}}function ke(l){let e,r,t;return e=new Y({}),{c(){I(e.$$.fragment),r=q(`

				Unknown User`)},l(n){D(e.$$.fragment,n),r=K(n,`

				Unknown User`)},m(n,s){M(e,n,s),$(n,r,s),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){n&&f(r),S(e,n)}}}function ve(l){let e,r;return e=new H({props:{href:l[8](l[0]._id),selected:l[2]==l[0]._id,$$slots:{default:[Ce]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,n){M(e,t,n),r=!0},p(t,n){const s={};n&1&&(s.href=t[8](t[0]._id)),n&5&&(s.selected=t[2]==t[0]._id),n&8195&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){S(e,t)}}}function be(l){let e,r,t;return{c(){e=Q("img"),this.h()},l(n){e=X(n,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){c(e,"class","cover"),N(e.src,r=V(l[10]))||c(e,"src",r),c(e,"alt",t=l[11])},m(n,s){$(n,e,s)},p(n,s){s&1&&!N(e.src,r=V(n[10]))&&c(e,"src",r),s&1&&t!==(t=n[11])&&c(e,"alt",t)},i:_,o:_,d(n){n&&f(e)}}}function we(l){let e,r;return e=new Y({}),{c(){I(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,n){M(e,t,n),r=!0},p:_,i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){S(e,t)}}}function Ce(l){R(l);let e,r,t,n=l[11]+"",s,o;const u=[we,be],i=[];function g(a,p){return a[1]["jolt:low-data-mode"]?0:1}return e=g(l),r=i[e]=u[e](l),{c(){r.c(),t=F(),s=q(n)},l(a){r.l(a),t=J(a),s=K(a,n)},m(a,p){i[e].m(a,p),$(a,t,p),$(a,s,p),o=!0},p(a,p){R(a);let k=e;e=g(a),e===k?i[e].p(a,p):(U(),d(i[k],1,1,()=>{i[k]=null}),j(),r=i[e],r?r.p(a,p):(r=i[e]=u[e](a),r.c()),h(r,1),r.m(t.parentNode,t)),(!o||p&1)&&n!==(n=a[11]+"")&&O(s,n)},i(a){o||(h(r),o=!0)},o(a){d(r),o=!1},d(a){a&&(f(t),f(s)),i[e].d(a)}}}function Ie(l){return{c:_,l:_,m:_,p:_,i:_,o:_,d:_}}function Me(l){let e,r,t,n;const s=[he,pe],o=[];function u(i,g){return i[0].channel_type=="DirectMessage"?0:i[0].channel_type=="TextChannel"||i[0].channel_type=="VoiceChannel"||i[0].channel_type=="Group"||i[0].channel_type=="SavedMessages"?1:-1}return~(e=u(l))&&(r=o[e]=s[e](l)),{c(){r&&r.c(),t=C()},l(i){r&&r.l(i),t=C()},m(i,g){~e&&o[e].m(i,g),$(i,t,g),n=!0},p(i,[g]){let a=e;e=u(i),e===a?~e&&o[e].p(i,g):(r&&(U(),d(o[a],1,1,()=>{o[a]=null}),j()),~e?(r=o[e],r?r.p(i,g):(r=o[e]=s[e](i),r.c()),h(r,1),r.m(t.parentNode,t)):r=null)},i(i){n||(h(r),n=!0)},o(i){d(r),n=!1},d(i){i&&f(t),~e&&o[e].d(i)}}}function Se(l,e,r){let t,n,s;const o=E(ee);A(l,o,m=>r(1,n=m));const u=E(te),i=E(le);A(l,i,m=>r(2,s=m));const g=E(se);A(l,g,m=>r(9,t=m));function a(m){if(m.channel_type=="SavedMessages")return oe;if(m.icon!=null&&!n["jolt:low-data-mode"])return ne(m.icon,{max_side:"256"});switch(m.channel_type){case"Group":return ae;case"TextChannel":return ue;case"VoiceChannel":return _e}}let{channel:p}=e;function k(m){return`${x}/${t==null?`channels/${m}`:`servers/${t}/channels/${m}`}`}return l.$$set=m=>{"channel"in m&&r(0,p=m.channel)},[p,n,s,o,u,i,g,a,k]}class qe extends G{constructor(e){super(),z(this,e,Se,Me,B,{channel:0})}}export{qe as C};
