import{s as V,c as U,n as _}from"./scheduler.bc65eea2.js";import{S as q,i as E,g as R,r as k,s as W,m as z,h as M,j,u as v,c as B,n as F,f as g,k as d,a as w,x as y,v as C,o as J,d as h,t as m,w as S,e as p,p as H,b as P}from"./index.cf715be0.js";import{h as K,u as O}from"./await_block.b32c7e6c.js";import{b as Q}from"./paths.2d698a35.js";import{g as b,a as X,c as Y}from"./context.90bee080.js";import{a as Z,U as D,g as L,b as A}from"./util.892acc65.js";import{s as $,a as x}from"./context.fa34f1f8.js";import{P as ee}from"./pencil-square.199bcb9f.js";import{R as ne}from"./RoundedImage.78a8751c.js";const te=""+new URL("../assets/user-group.bb05f051.svg",import.meta.url).href,ae=""+new URL("../assets/hash.b503b565.svg",import.meta.url).href,re=""+new URL("../assets/speaker-wave.5d6a7a2d.svg",import.meta.url).href;function se(r){let n,t,e,a,l,o,c;return e=new ne({props:{src:r[0],name:r[1],width:r[2],height:r[3]}}),{c(){n=R("div"),t=R("a"),k(e.$$.fragment),a=W(),l=z(r[1]),this.h()},l(s){n=M(s,"DIV",{role:!0,class:!0});var i=j(n);t=M(i,"A",{href:!0,class:!0});var f=j(t);v(e.$$.fragment,f),a=B(f),l=F(f,r[1]),f.forEach(g),i.forEach(g),this.h()},h(){d(t,"href",r[4]),d(t,"class","p-2 block"),d(n,"role","listitem"),d(n,"class",o=r[5]?"bg-gray-400":"hover:bg-gray-600")},m(s,i){w(s,n,i),y(n,t),C(e,t,null),y(t,a),y(t,l),c=!0},p(s,[i]){const f={};i&1&&(f.src=s[0]),i&2&&(f.name=s[1]),i&4&&(f.width=s[2]),i&8&&(f.height=s[3]),e.$set(f),(!c||i&2)&&J(l,s[1]),(!c||i&16)&&d(t,"href",s[4]),(!c||i&32&&o!==(o=s[5]?"bg-gray-400":"hover:bg-gray-600"))&&d(n,"class",o)},i(s){c||(h(e.$$.fragment,s),c=!0)},o(s){m(e.$$.fragment,s),c=!1},d(s){s&&g(n),S(e)}}}function le(r,n,t){let{src:e}=n,{name:a}=n,{width:l}=n,{height:o}=n,{href:c}=n,{selected:s}=n;return r.$$set=i=>{"src"in i&&t(0,e=i.src),"name"in i&&t(1,a=i.name),"width"in i&&t(2,l=i.width),"height"in i&&t(3,o=i.height),"href"in i&&t(4,c=i.href),"selected"in i&&t(5,s=i.selected)},[e,a,l,o,c,s]}class I extends q{constructor(n){super(),E(this,n,le,se,V,{src:0,name:1,width:2,height:3,href:4,selected:5})}}function ie(r){let n,t;return n=new I({props:{src:r[7](r[0]),name:r[0].channel_type=="SavedMessages"?"Saved Notes":r[0].name,width:24,height:24,href:r[8](r[0]._id),selected:r[2]==r[0]._id}}),{c(){k(n.$$.fragment)},l(e){v(n.$$.fragment,e)},m(e,a){C(n,e,a),t=!0},p(e,a){const l={};a&1&&(l.src=e[7](e[0])),a&1&&(l.name=e[0].channel_type=="SavedMessages"?"Saved Notes":e[0].name),a&1&&(l.href=e[8](e[0]._id)),a&5&&(l.selected=e[2]==e[0]._id),n.$set(l)},i(e){t||(h(n.$$.fragment,e),t=!0)},o(e){m(n.$$.fragment,e),t=!1},d(e){S(n,e)}}}function oe(r){let n,t,e=r[0].active&&G(r);return{c(){e&&e.c(),n=p()},l(a){e&&e.l(a),n=p()},m(a,l){e&&e.m(a,l),w(a,n,l),t=!0},p(a,l){a[0].active?e?(e.p(a,l),l&1&&h(e,1)):(e=G(a),e.c(),h(e,1),e.m(n.parentNode,n)):e&&(H(),m(e,1,1,()=>{e=null}),P())},i(a){t||(h(e),t=!0)},o(a){m(e),t=!1},d(a){a&&g(n),e&&e.d(a)}}}function G(r){var l;let n,t,e,a={ctx:r,current:null,token:null,hasCatch:!0,pending:ue,then:fe,catch:ce,value:10,blocks:[,,,]};return K(t=r[4].api.fetchUser(r[0].recipients[0]==((l=r[4].user)==null?void 0:l._id)?r[0].recipients[1]:r[0].recipients[0]),a),{c(){n=p(),a.block.c()},l(o){n=p(),a.block.l(o)},m(o,c){w(o,n,c),a.block.m(o,a.anchor=c),a.mount=()=>n.parentNode,a.anchor=n,e=!0},p(o,c){var s;r=o,a.ctx=r,c&1&&t!==(t=r[4].api.fetchUser(r[0].recipients[0]==((s=r[4].user)==null?void 0:s._id)?r[0].recipients[1]:r[0].recipients[0]))&&K(t,a)||O(a,r,c)},i(o){e||(h(a.block),e=!0)},o(o){for(let c=0;c<3;c+=1){const s=a.blocks[c];m(s)}e=!1},d(o){o&&g(n),a.block.d(o),a.token=null,a=null}}}function ce(r){let n,t;return n=new I({props:{src:D,name:"Unknown User",width:32,height:32,href:r[8](r[0]._id),selected:r[2]==r[0]._id}}),{c(){k(n.$$.fragment)},l(e){v(n.$$.fragment,e)},m(e,a){C(n,e,a),t=!0},p(e,a){const l={};a&1&&(l.href=e[8](e[0]._id)),a&5&&(l.selected=e[2]==e[0]._id),n.$set(l)},i(e){t||(h(n.$$.fragment,e),t=!0)},o(e){m(n.$$.fragment,e),t=!1},d(e){S(n,e)}}}function fe(r){let n,t;return n=new I({props:{src:r[1]["jolt:low-data-mode"]?D:L(r[10]),name:A(r[10]),width:32,height:32,href:r[8](r[0]._id),selected:r[2]==r[0]._id}}),{c(){k(n.$$.fragment)},l(e){v(n.$$.fragment,e)},m(e,a){C(n,e,a),t=!0},p(e,a){const l={};a&3&&(l.src=e[1]["jolt:low-data-mode"]?D:L(e[10])),a&1&&(l.name=A(e[10])),a&1&&(l.href=e[8](e[0]._id)),a&5&&(l.selected=e[2]==e[0]._id),n.$set(l)},i(e){t||(h(n.$$.fragment,e),t=!0)},o(e){m(n.$$.fragment,e),t=!1},d(e){S(n,e)}}}function ue(r){return{c:_,l:_,m:_,p:_,i:_,o:_,d:_}}function he(r){let n,t,e,a;const l=[oe,ie],o=[];function c(s,i){return s[0].channel_type=="DirectMessage"?0:s[0].channel_type=="TextChannel"||s[0].channel_type=="VoiceChannel"||s[0].channel_type=="Group"||s[0].channel_type=="SavedMessages"?1:-1}return~(n=c(r))&&(t=o[n]=l[n](r)),{c(){t&&t.c(),e=p()},l(s){t&&t.l(s),e=p()},m(s,i){~n&&o[n].m(s,i),w(s,e,i),a=!0},p(s,[i]){let f=n;n=c(s),n===f?~n&&o[n].p(s,i):(t&&(H(),m(o[f],1,1,()=>{o[f]=null}),P()),~n?(t=o[n],t?t.p(s,i):(t=o[n]=l[n](s),t.c()),h(t,1),t.m(e.parentNode,e)):t=null)},i(s){a||(h(t),a=!0)},o(s){m(t),a=!1},d(s){s&&g(e),~n&&o[n].d(s)}}}function me(r,n,t){let e,a,l;const o=b(X);U(r,o,u=>t(1,a=u));const c=b(Y),s=b($);U(r,s,u=>t(2,l=u));const i=b(x);U(r,i,u=>t(9,e=u));function f(u){if(u.channel_type=="SavedMessages")return ee;if(u.icon!=null&&!a["jolt:low-data-mode"])return Z(u.icon,{max_side:"256"});switch(u.channel_type){case"Group":return te;case"TextChannel":return ae;case"VoiceChannel":return re}}let{channel:N}=n;function T(u){return`${Q}/${e==null?`channels/${u}`:`servers/${e}/channels/${u}`}`}return r.$$set=u=>{"channel"in u&&t(0,N=u.channel)},[N,a,l,o,c,s,i,f,T]}class Se extends q{constructor(n){super(),E(this,n,me,he,V,{channel:0})}}export{I as C,Se as a};
