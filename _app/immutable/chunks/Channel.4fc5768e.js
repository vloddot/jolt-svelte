import{s as B,E as w,F as b,h as k,d as _,j as a,i as v,z as C,u as $,e as I,r as q,a as H,f as D,l as O,c as T,g as z,m as Q,n as X,J as Z,q as F,I as G}from"./scheduler.7420d6ca.js";import{S as P,i as U,g as E,t as d,c as N,a as m,b as y,d as j,m as S,e as M}from"./index.637134e4.js";import{e as x}from"./singletons.ae8b5613.js";import{g as A}from"./context.92045884.js";import{a as ee,b as te,g as J}from"./util.883c3f21.js";import{s as ne}from"./context.527da73b.js";import{s as re}from"./context.9abfb385.js";import{s as se,c as le}from"./context.645f4abc.js";import{P as ie}from"./PencilSquareIcon.a48668d9.js";import{C as V}from"./ChannelItem.808dcd4a.js";import{G as Y}from"./GenericUserCircleIcon.cf1ebf73.js";function oe(s){let e,n;return{c(){e=w("svg"),n=w("path"),this.h()},l(t){e=b(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var r=k(e);n=b(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(n).forEach(_),r.forEach(_),this.h()},h(){a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"width","24px"),a(e,"height","24px")},m(t,r){v(t,e,r),C(e,n)},p:$,i:$,o:$,d(t){t&&_(e)}}}class ae extends P{constructor(e){super(),U(this,e,null,oe,B,{})}}function ce(s){let e,n;return{c(){e=w("svg"),n=w("path"),this.h()},l(t){e=b(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var r=k(e);n=b(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(n).forEach(_),r.forEach(_),this.h()},h(){a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"width","24px"),a(e,"height","24px")},m(t,r){v(t,e,r),C(e,n)},p:$,i:$,o:$,d(t){t&&_(e)}}}class fe extends P{constructor(e){super(),U(this,e,null,ce,B,{})}}function ue(s){let e,n,t,r,i;return{c(){e=w("svg"),n=w("path"),t=w("path"),r=w("path"),i=w("path"),this.h()},l(l){e=b(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0});var f=k(e);n=b(f,"path",{stroke:!0,d:!0,fill:!0}),k(n).forEach(_),t=b(f,"path",{d:!0}),k(t).forEach(_),r=b(f,"path",{d:!0}),k(r).forEach(_),i=b(f,"path",{d:!0}),k(i).forEach(_),f.forEach(_),this.h()},h(){a(n,"stroke","none"),a(n,"d","M0 0h24v24H0z"),a(n,"fill","none"),a(t,"d","M15 8a5 5 0 0 1 0 8"),a(r,"d","M17.7 5a9 9 0 0 1 0 14"),a(i,"d","M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","24"),a(e,"height","24"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","2"),a(e,"stroke","currentColor"),a(e,"fill","none"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(l,f){v(l,e,f),C(e,n),C(e,t),C(e,r),C(e,i)},p:$,i:$,o:$,d(l){l&&_(e)}}}class _e extends P{constructor(e){super(),U(this,e,null,ue,B,{})}}function L(s){const e=s[7](s[0]);s[12]=e;const n=s[0].channel_type=="SavedMessages"?"Saved Notes":s[0].name;s[11]=n}function R(s){const e=te(s[10]);s[11]=e}function K(s){var t;const e=s.slice(),n=e[4].api.cache.users.get(e[0].recipients[0]==((t=e[4].user)==null?void 0:t._id)?e[0].recipients[1]:e[0].recipients[0]);return e[10]=n,e}function he(s){let e,n;return e=new V({props:{href:s[8](s[0]._id),selected:s[2]==s[0]._id,$$slots:{default:[ge]},$$scope:{ctx:s}}}),{c(){y(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.href=t[8](t[0]._id)),r&5&&(i.selected=t[2]==t[0]._id),r&8193&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function pe(s){let e,n,t=s[0].active&&W(K(s));return{c(){t&&t.c(),e=I()},l(r){t&&t.l(r),e=I()},m(r,i){t&&t.m(r,i),v(r,e,i),n=!0},p(r,i){r[0].active?t?(t.p(K(r),i),i&1&&m(t,1)):(t=W(K(r)),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(E(),d(t,1,1,()=>{t=null}),N())},i(r){n||(m(t),n=!0)},o(r){d(t),n=!1},d(r){r&&_(e),t&&t.d(r)}}}function me(s){let e,n,t;var r=s[12];function i(l){return{}}return r&&(e=F(r,i())),{c(){e&&y(e.$$.fragment),n=I()},l(l){e&&j(e.$$.fragment,l),n=I()},m(l,f){e&&S(e,l,f),v(l,n,f),t=!0},p(l,f){if(f&1&&r!==(r=l[12])){if(e){E();const o=e;d(o.$$.fragment,1,0,()=>{M(o,1)}),N()}r?(e=F(r,i()),y(e.$$.fragment),m(e.$$.fragment,1),S(e,n.parentNode,n)):e=null}},i(l){t||(e&&m(e.$$.fragment,l),t=!0)},o(l){e&&d(e.$$.fragment,l),t=!1},d(l){l&&_(n),e&&M(e,l)}}}function de(s){let e,n,t;return{c(){e=D("img"),this.h()},l(r){e=z(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){a(e,"class","cover"),G(e.src,n=s[12])||a(e,"src",n),a(e,"alt",t=s[11])},m(r,i){v(r,e,i)},p(r,i){i&1&&!G(e.src,n=r[12])&&a(e,"src",n),i&1&&t!==(t=r[11])&&a(e,"alt",t)},i:$,o:$,d(r){r&&_(e)}}}function ge(s){L(s);let e,n,t,r,i=s[11]+"",l,f;const o=[de,me],u=[];function g(c,h){return typeof c[12]=="string"?0:1}return e=g(s),n=u[e]=o[e](s),{c(){n.c(),t=H(),r=D("span"),l=O(i),this.h()},l(c){n.l(c),t=T(c),r=z(c,"SPAN",{class:!0});var h=k(r);l=Q(h,i),h.forEach(_),this.h()},h(){a(r,"class","channel-name svelte-1vfcplz")},m(c,h){u[e].m(c,h),v(c,t,h),v(c,r,h),C(r,l),f=!0},p(c,h){L(c);let p=e;e=g(c),e===p?u[e].p(c,h):(E(),d(u[p],1,1,()=>{u[p]=null}),N(),n=u[e],n?n.p(c,h):(n=u[e]=o[e](c),n.c()),m(n,1),n.m(t.parentNode,t)),(!f||h&1)&&i!==(i=c[11]+"")&&X(l,i)},i(c){f||(m(n),f=!0)},o(c){d(n),f=!1},d(c){c&&(_(t),_(r)),u[e].d(c)}}}function W(s){let e,n,t,r;const i=[ve,$e],l=[];function f(o,u){return o[10]==null?0:1}return e=f(s),n=l[e]=i[e](s),{c(){n.c(),t=I()},l(o){n.l(o),t=I()},m(o,u){l[e].m(o,u),v(o,t,u),r=!0},p(o,u){let g=e;e=f(o),e===g?l[e].p(o,u):(E(),d(l[g],1,1,()=>{l[g]=null}),N(),n=l[e],n?n.p(o,u):(n=l[e]=i[e](o),n.c()),m(n,1),n.m(t.parentNode,t))},i(o){r||(m(n),r=!0)},o(o){d(n),r=!1},d(o){o&&_(t),l[e].d(o)}}}function $e(s){let e,n;return e=new V({props:{href:s[8](s[0]._id),selected:s[2]==s[0]._id,$$slots:{default:[be]},$$scope:{ctx:s}}}),{c(){y(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.href=t[8](t[0]._id)),r&5&&(i.selected=t[2]==t[0]._id),r&8195&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ve(s){let e,n;return e=new V({props:{href:s[8](s[0]._id),selected:s[2]==s[0]._id,$$slots:{default:[Ce]},$$scope:{ctx:s}}}),{c(){y(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.href=t[8](t[0]._id)),r&5&&(i.selected=t[2]==t[0]._id),r&8192&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ke(s){let e,n,t;return{c(){e=D("img"),this.h()},l(r){e=z(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){a(e,"class","cover"),G(e.src,n=J(s[10]))||a(e,"src",n),a(e,"alt",t=s[11])},m(r,i){v(r,e,i)},p(r,i){i&1&&!G(e.src,n=J(r[10]))&&a(e,"src",n),i&1&&t!==(t=r[11])&&a(e,"alt",t)},i:$,o:$,d(r){r&&_(e)}}}function we(s){let e,n;return e=new Y({}),{c(){y(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p:$,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function be(s){R(s);let e,n,t,r,i=s[11]+"",l,f;const o=[we,ke],u=[];function g(c,h){return c[1]["jolt:low-data-mode"]?0:1}return e=g(s),n=u[e]=o[e](s),{c(){n.c(),t=H(),r=D("span"),l=O(i),this.h()},l(c){n.l(c),t=T(c),r=z(c,"SPAN",{class:!0});var h=k(r);l=Q(h,i),h.forEach(_),this.h()},h(){a(r,"class","channel-name svelte-1vfcplz")},m(c,h){u[e].m(c,h),v(c,t,h),v(c,r,h),C(r,l),f=!0},p(c,h){R(c);let p=e;e=g(c),e===p?u[e].p(c,h):(E(),d(u[p],1,1,()=>{u[p]=null}),N(),n=u[e],n?n.p(c,h):(n=u[e]=o[e](c),n.c()),m(n,1),n.m(t.parentNode,t)),(!f||h&1)&&i!==(i=c[11]+"")&&X(l,i)},i(c){f||(m(n),f=!0)},o(c){d(n),f=!1},d(c){c&&(_(t),_(r)),u[e].d(c)}}}function Ce(s){let e,n,t,r="Unknown User",i;return e=new Y({}),{c(){y(e.$$.fragment),n=H(),t=D("span"),t.textContent=r,this.h()},l(l){j(e.$$.fragment,l),n=T(l),t=z(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-18ixmd9"&&(t.textContent=r),this.h()},h(){a(t,"class","channel-name svelte-1vfcplz")},m(l,f){S(e,l,f),v(l,n,f),v(l,t,f),i=!0},p:$,i(l){i||(m(e.$$.fragment,l),i=!0)},o(l){d(e.$$.fragment,l),i=!1},d(l){l&&(_(n),_(t)),M(e,l)}}}function Ie(s){let e,n,t,r;const i=[pe,he],l=[];function f(o,u){return o[0].channel_type=="DirectMessage"?0:o[0].channel_type=="TextChannel"||o[0].channel_type=="VoiceChannel"||o[0].channel_type=="Group"||o[0].channel_type=="SavedMessages"?1:-1}return~(e=f(s))&&(n=l[e]=i[e](s)),{c(){n&&n.c(),t=I()},l(o){n&&n.l(o),t=I()},m(o,u){~e&&l[e].m(o,u),v(o,t,u),r=!0},p(o,[u]){let g=e;e=f(o),e===g?~e&&l[e].p(o,u):(n&&(E(),d(l[g],1,1,()=>{l[g]=null}),N()),~e?(n=l[e],n?n.p(o,u):(n=l[e]=i[e](o),n.c()),m(n,1),n.m(t.parentNode,t)):n=null)},i(o){r||(m(n),r=!0)},o(o){d(n),r=!1},d(o){o&&_(t),~e&&l[e].d(o)}}}function ye(s,e,n){let t,r,i;const l=A(se);q(s,l,p=>n(1,r=p));const f=A(le),o=A(re);q(s,o,p=>n(2,i=p));const u=A(ne);q(s,u,p=>n(9,t=p));function g(p){if(p.channel_type=="SavedMessages")return ie;if(p.icon!=null&&!r["jolt:low-data-mode"])return ee(p.icon,{max_side:"256"});switch(p.channel_type){case"Group":return ae;case"TextChannel":return fe;case"VoiceChannel":return _e}}let{channel:c}=e;function h(p){return`${x}/${t==null?`channels/${p}`:`servers/${t}/channels/${p}`}`}return s.$$set=p=>{"channel"in p&&n(0,c=p.channel)},[c,r,i,l,f,o,u,g,h]}class Ue extends P{constructor(e){super(),U(this,e,ye,Ie,B,{channel:0})}}export{Ue as C};
