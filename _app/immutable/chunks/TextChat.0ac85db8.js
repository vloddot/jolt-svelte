import{s as he,f as C,g as T,h as S,d as u,j as f,i as k,r as fe,e as G,u as m,a as q,c as F,l as O,m as B,z as v,n as se,I as Y,E as be,F as ve,v as zt,J as Ne,A as ue,w as Ht,x as Wt,y as Xt,D as je,M as Jt,p as Se,N as Qt,O as Ge,k as Be,P as Pe,Q as Yt,G as Ee,B as Pt,C as Zt,H as xt,q as Xe,R as Je,S as Ie,o as el,K as tl,t as Qe}from"./scheduler.7420d6ca.js";import{h as ae,u as we}from"./await_block.08f6cb26.js";import{e as _e}from"./each.e59479a4.js";import{S as me,i as de,a as b,g as x,t as E,c as ee,b as le,d as ie,m as ne,e as re,f as Re}from"./index.637134e4.js";import{g as te}from"./context.92045884.js";import{g as ke,b as pe,a as ll}from"./util.883c3f21.js";import{c as Ce,s as De}from"./context.645f4abc.js";import{w as Te}from"./index.5b89e149.js";import{m as Ke,u as ze,g as Le,c as Vt,a as qt,r as He,b as Ft,s as nl,n as rl}from"./index.45055ce9.js";import{e as Ye}from"./singletons.ae8b5613.js";import{s as Lt}from"./context.527da73b.js";import{s as il}from"./context.9abfb385.js";import{G as Ae}from"./GenericUserCircleIcon.cf1ebf73.js";import{d as qe}from"./index.esm.4b6e8736.js";import{P as sl}from"./PencilSquareIcon.a48668d9.js";import{t as Gt,P as ol}from"./PlusIcon.a9ccaab6.js";import{d as Ue,c as cl}from"./calendar.5942d46b.js";import{p as al}from"./stores.fafd9ada.js";function fl(r){const e=r.slice(),l=pe(e[14]);return e[15]=l,e}function Ze(r){var s;let e,l,n,t={ctx:r,current:null,token:null,hasCatch:!1,pending:kl,then:_l,catch:ul,value:13,blocks:[,,,]};return ae(l=((s=r[3])==null?void 0:s.find(r[12]))??r[6].api.fetchMessage(r[2],r[0]),t),{c(){e=G(),t.block.c()},l(i){e=G(),t.block.l(i)},m(i,c){k(i,e,c),t.block.m(i,t.anchor=c),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,c){var o;r=i,t.ctx=r,c&13&&l!==(l=((o=r[3])==null?void 0:o.find(r[12]))??r[6].api.fetchMessage(r[2],r[0]))&&ae(l,t)||we(t,r,c)},i(i){n||(b(t.block),n=!0)},o(i){for(let c=0;c<3;c+=1){const o=t.blocks[c];E(o)}n=!1},d(i){i&&u(e),t.block.d(i),t.token=null,t=null}}}function ul(r){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function _l(r){let e,l,n,t=!r[4]["jolt:low-data-mode"]&&xe(r),s=r[13].content!=null&&et(r);return{c(){t&&t.c(),e=q(),s&&s.c(),l=G()},l(i){t&&t.l(i),e=F(i),s&&s.l(i),l=G()},m(i,c){t&&t.m(i,c),k(i,e,c),s&&s.m(i,c),k(i,l,c),n=!0},p(i,c){i[4]["jolt:low-data-mode"]?t&&(x(),E(t,1,1,()=>{t=null}),ee()):t?(t.p(i,c),c&16&&b(t,1)):(t=xe(i),t.c(),b(t,1),t.m(e.parentNode,e)),i[13].content!=null?s?s.p(i,c):(s=et(i),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},i(i){n||(b(t),n=!0)},o(i){E(t),n=!1},d(i){i&&(u(e),u(l)),t&&t.d(i),s&&s.d(i)}}}function xe(r){let e,l,n,t={ctx:r,current:null,token:null,hasCatch:!1,pending:gl,then:ml,catch:hl,value:14,blocks:[,,,]};return ae(l=Le(r[6].api,r[5]??r[6].api.cache.users,r[13].author),t),{c(){e=G(),t.block.c()},l(s){e=G(),t.block.l(s)},m(s,i){k(s,e,i),t.block.m(s,t.anchor=i),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(s,i){r=s,t.ctx=r,i&45&&l!==(l=Le(r[6].api,r[5]??r[6].api.cache.users,r[13].author))&&ae(l,t)||we(t,r,i)},i(s){n||(b(t.block),n=!0)},o(s){for(let i=0;i<3;i+=1){const c=t.blocks[i];E(c)}n=!1},d(s){s&&u(e),t.block.d(s),t.token=null,t=null}}}function hl(r){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function ml(r){let e,l,n,t;const s=[pl,dl],i=[];function c(a,d){return a[14]!=null?0:1}function o(a,d){return d===0?fl(a):a}return e=c(r),l=i[e]=s[e](o(r,e)),{c(){l.c(),n=G()},l(a){l.l(a),n=G()},m(a,d){i[e].m(a,d),k(a,n,d),t=!0},p(a,d){let _=e;e=c(a),e===_?i[e].p(o(a,e),d):(x(),E(i[_],1,1,()=>{i[_]=null}),ee(),l=i[e],l?l.p(o(a,e),d):(l=i[e]=s[e](o(a,e)),l.c()),b(l,1),l.m(n.parentNode,n))},i(a){t||(b(l),t=!0)},o(a){E(l),t=!1},d(a){a&&u(n),i[e].d(a)}}}function dl(r){let e,l,n;return e=new Ae({}),{c(){le(e.$$.fragment),l=O(`

						Unknown User`)},l(t){ie(e.$$.fragment,t),l=B(t,`

						Unknown User`)},m(t,s){ne(e,t,s),k(t,l,s),n=!0},p:m,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){t&&u(l),re(e,t)}}}function pl(r){let e,l,n,t,s=r[15]+"",i;return{c(){e=C("img"),t=q(),i=O(s),this.h()},l(c){e=T(c,"IMG",{class:!0,src:!0,alt:!0,width:!0,height:!0}),t=F(c),i=B(c,s),this.h()},h(){f(e,"class","cover"),Y(e.src,l=ke(r[14]))||f(e,"src",l),f(e,"alt",n=r[15]),f(e,"width","24px"),f(e,"height","24px")},m(c,o){k(c,e,o),k(c,t,o),k(c,i,o)},p(c,o){o&45&&!Y(e.src,l=ke(c[14]))&&f(e,"src",l),o&45&&n!==(n=c[15])&&f(e,"alt",n),o&45&&s!==(s=c[15]+"")&&se(i,s)},i:m,o:m,d(c){c&&(u(e),u(t),u(i))}}}function gl(r){let e;return{c(){e=O("<Unknown User>")},l(l){e=B(l,"<Unknown User>")},m(l,n){k(l,e,n)},p:m,i:m,o:m,d(l){l&&u(e)}}}function et(r){let e,l=r[13].content+"",n;return{c(){e=C("span"),n=O(l),this.h()},l(t){e=T(t,"SPAN",{class:!0});var s=S(e);n=B(s,l),s.forEach(u),this.h()},h(){f(e,"class","message-content svelte-pdgjwp")},m(t,s){k(t,e,s),v(e,n)},p(t,s){s&13&&l!==(l=t[13].content+"")&&se(n,l)},d(t){t&&u(e)}}}function kl(r){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function bl(r){let e,l,n,t=r[2]!=null&&Ze(r);return{c(){e=C("a"),t&&t.c(),this.h()},l(s){e=T(s,"A",{href:!0,class:!0});var i=S(e);t&&t.l(i),i.forEach(u),this.h()},h(){f(e,"href",l=Ye+"/"+(r[1]==null?`channels/${r[2]}/${r[0]}`:`servers/${r[1]}/channels/${r[2]}/${r[0]}`)),f(e,"class","svelte-pdgjwp")},m(s,i){k(s,e,i),t&&t.m(e,null),n=!0},p(s,[i]){s[2]!=null?t?(t.p(s,i),i&4&&b(t,1)):(t=Ze(s),t.c(),b(t,1),t.m(e,null)):t&&(x(),E(t,1,1,()=>{t=null}),ee()),(!n||i&7&&l!==(l=Ye+"/"+(s[1]==null?`channels/${s[2]}/${s[0]}`:`servers/${s[1]}/channels/${s[2]}/${s[0]}`)))&&f(e,"href",l)},i(s){n||(b(t),n=!0)},o(s){E(t),n=!1},d(s){s&&u(e),t&&t.d()}}}function vl(r,e,l){let n,t,s,i,c;const o=te(Ce),a=te(De);fe(r,a,M=>l(4,i=M));const d=te(Lt);fe(r,d,M=>l(1,n=M));const _=te(il);fe(r,_,M=>l(2,t=M));const h=te(Ke);fe(r,h,M=>l(3,s=M));const g=te(ze);fe(r,g,M=>l(5,c=M));let{id:P}=e;const w=({_id:M})=>P==M;return r.$$set=M=>{"id"in M&&l(0,P=M.id)},[P,n,t,s,i,c,o,a,d,_,h,g,w]}class wl extends me{constructor(e){super(),de(this,e,vl,bl,he,{id:0})}}function yl(r){let e,l;return{c(){e=be("svg"),l=be("path"),this.h()},l(n){e=ve(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var t=S(e);l=ve(t,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(l).forEach(u),t.forEach(u),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"width","24px"),f(e,"height","24px")},m(n,t){k(n,e,t),v(e,l)},p:m,i:m,o:m,d(n){n&&u(e)}}}class $l extends me{constructor(e){super(),de(this,e,null,yl,he,{})}}function El(r){let e,l;return{c(){e=be("svg"),l=be("path"),this.h()},l(n){e=ve(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var t=S(e);l=ve(t,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(l).forEach(u),t.forEach(u),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"d","M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"width","24px"),f(e,"height","24px")},m(n,t){k(n,e,t),v(e,l)},p:m,i:m,o:m,d(n){n&&u(e)}}}class Ml extends me{constructor(e){super(),de(this,e,null,El,he,{})}}function tt(r){const e=pe(r[3]);r[4]=e}function lt(r){r[5]=r[7][0],r[6]=r[7][1]}function nt(r){const e=pe(r[3]);r[4]=e}function Il(r){let e,l,n={ctx:r,current:null,token:null,hasCatch:!1,pending:Bl,then:jl,catch:Ul,value:3};return ae(l=r[1].api.fetchUser(r[0].id),n),{c(){e=G(),n.block.c()},l(t){e=G(),n.block.l(t)},m(t,s){k(t,e,s),n.block.m(t,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e},p(t,s){r=t,n.ctx=r,s&1&&l!==(l=r[1].api.fetchUser(r[0].id))&&ae(l,n)||we(n,r,s)},d(t){t&&u(e),n.block.d(t),n.token=null,n=null}}}function Cl(r){let e,l,n={ctx:r,current:null,token:null,hasCatch:!1,pending:ql,then:Vl,catch:Pl,value:7};return ae(l=Promise.all([r[0].from,r[0].to].map(r[2])),n),{c(){e=G(),n.block.c()},l(t){e=G(),n.block.l(t)},m(t,s){k(t,e,s),n.block.m(t,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e},p(t,s){r=t,n.ctx=r,s&1&&l!==(l=Promise.all([r[0].from,r[0].to].map(r[2])))&&ae(l,n)||we(n,r,s)},d(t){t&&u(e),n.block.d(t),n.token=null,n=null}}}function Tl(r){let e,l,n={ctx:r,current:null,token:null,hasCatch:!1,pending:Yl,then:Ll,catch:Fl,value:3};return ae(l=r[1].api.fetchUser(r[0].by),n),{c(){e=G(),n.block.c()},l(t){e=G(),n.block.l(t)},m(t,s){k(t,e,s),n.block.m(t,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e},p(t,s){r=t,n.ctx=r,s&1&&l!==(l=r[1].api.fetchUser(r[0].by))&&ae(l,n)||we(n,r,s)},d(t){t&&u(e),n.block.d(t),n.token=null,n=null}}}function Nl(r){let e=r[0].content+"",l;return{c(){l=O(e)},l(n){l=B(n,e)},m(n,t){k(n,l,t)},p(n,t){t&1&&e!==(e=n[0].content+"")&&se(l,e)},d(n){n&&u(l)}}}function Ul(r){return{c:m,l:m,m,p:m,d:m}}function jl(r){tt(r);let e,l,n,t,s=r[4]+"",i,c,o;function a(h,g){if(h[0].type=="user_banned")return Ol;if(h[0].type=="user_joined")return Al;if(h[0].type=="user_kicked")return Dl;if(h[0].type=="user_left")return Sl}let d=a(r),_=d&&d(r);return{c(){e=C("img"),t=q(),i=O(s),c=q(),_&&_.c(),o=G(),this.h()},l(h){e=T(h,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),t=F(h),i=B(h,s),c=F(h),_&&_.l(h),o=G(),this.h()},h(){f(e,"class","cover"),Y(e.src,l=ke(r[3]))||f(e,"src",l),f(e,"width","24px"),f(e,"height","24px"),f(e,"alt",n=r[4])},m(h,g){k(h,e,g),k(h,t,g),k(h,i,g),k(h,c,g),_&&_.m(h,g),k(h,o,g)},p(h,g){tt(h),g&1&&!Y(e.src,l=ke(h[3]))&&f(e,"src",l),g&1&&n!==(n=h[4])&&f(e,"alt",n),g&1&&s!==(s=h[4]+"")&&se(i,s),d!==(d=a(h))&&(_&&_.d(1),_=d&&d(h),_&&(_.c(),_.m(o.parentNode,o)))},d(h){h&&(u(e),u(t),u(i),u(c),u(o)),_&&_.d(h)}}}function Sl(r){let e;return{c(){e=O("left the chat.")},l(l){e=B(l,"left the chat.")},m(l,n){k(l,e,n)},d(l){l&&u(e)}}}function Dl(r){let e;return{c(){e=O("was kicked.")},l(l){e=B(l,"was kicked.")},m(l,n){k(l,e,n)},d(l){l&&u(e)}}}function Al(r){let e;return{c(){e=O("has joined the chat.")},l(l){e=B(l,"has joined the chat.")},m(l,n){k(l,e,n)},d(l){l&&u(e)}}}function Ol(r){let e;return{c(){e=O("was banned.")},l(l){e=B(l,"was banned.")},m(l,n){k(l,e,n)},d(l){l&&u(e)}}}function Bl(r){return{c:m,l:m,m,p:m,d:m}}function Pl(r){return{c:m,l:m,m,p:m,d:m}}function Vl(r){lt(r);let e,l=pe(r[5])+"",n,t,s=pe(r[6])+"",i,c;return{c(){e=O("Channel ownership changed from "),n=O(l),t=O(" to "),i=O(s),c=O(".")},l(o){e=B(o,"Channel ownership changed from "),n=B(o,l),t=B(o," to "),i=B(o,s),c=B(o,".")},m(o,a){k(o,e,a),k(o,n,a),k(o,t,a),k(o,i,a),k(o,c,a)},p(o,a){lt(o),a&1&&l!==(l=pe(o[5])+"")&&se(n,l),a&1&&s!==(s=pe(o[6])+"")&&se(i,s)},d(o){o&&(u(e),u(n),u(t),u(i),u(c))}}}function ql(r){return{c:m,l:m,m,p:m,d:m}}function Fl(r){return{c:m,l:m,m,p:m,d:m}}function Ll(r){nt(r);let e,l,n,t,s=r[4]+"",i,c,o;function a(h,g){if(h[0].type=="channel_description_changed")return zl;if(h[0].type=="channel_icon_changed")return Kl;if(h[0].type=="channel_renamed")return Rl;if(h[0].type=="user_added"||h[0].type=="user_remove")return Gl}let d=a(r),_=d&&d(r);return{c(){e=C("img"),t=q(),i=O(s),c=q(),_&&_.c(),o=G(),this.h()},l(h){e=T(h,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),t=F(h),i=B(h,s),c=F(h),_&&_.l(h),o=G(),this.h()},h(){f(e,"class","cover"),Y(e.src,l=ke(r[3]))||f(e,"src",l),f(e,"width","24px"),f(e,"height","24px"),f(e,"alt",n=r[4])},m(h,g){k(h,e,g),k(h,t,g),k(h,i,g),k(h,c,g),_&&_.m(h,g),k(h,o,g)},p(h,g){nt(h),g&1&&!Y(e.src,l=ke(h[3]))&&f(e,"src",l),g&1&&n!==(n=h[4])&&f(e,"alt",n),g&1&&s!==(s=h[4]+"")&&se(i,s),d===(d=a(h))&&_?_.p(h,g):(_&&_.d(1),_=d&&d(h),_&&(_.c(),_.m(o.parentNode,o)))},d(h){h&&(u(e),u(t),u(i),u(c),u(o)),_&&_.d(h)}}}function Gl(r){let e,l,n={ctx:r,current:null,token:null,hasCatch:!1,pending:Ql,then:Wl,catch:Hl,value:3};return ae(l=r[1].api.fetchUser(r[0].id),n),{c(){e=G(),n.block.c()},l(t){e=G(),n.block.l(t)},m(t,s){k(t,e,s),n.block.m(t,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e},p(t,s){r=t,n.ctx=r,s&1&&l!==(l=r[1].api.fetchUser(r[0].id))&&ae(l,n)||we(n,r,s)},d(t){t&&u(e),n.block.d(t),n.token=null,n=null}}}function Rl(r){let e,l=r[0].name+"",n,t;return{c(){e=O("renamed this channel to "),n=O(l),t=O(".")},l(s){e=B(s,"renamed this channel to "),n=B(s,l),t=B(s,".")},m(s,i){k(s,e,i),k(s,n,i),k(s,t,i)},p(s,i){i&1&&l!==(l=s[0].name+"")&&se(n,l)},d(s){s&&(u(e),u(n),u(t))}}}function Kl(r){let e;return{c(){e=O("changes this channel icon.")},l(l){e=B(l,"changes this channel icon.")},m(l,n){k(l,e,n)},p:m,d(l){l&&u(e)}}}function zl(r){let e;return{c(){e=O("changed this channel's description.")},l(l){e=B(l,"changed this channel's description.")},m(l,n){k(l,e,n)},p:m,d(l){l&&u(e)}}}function Hl(r){return{c:m,l:m,m,p:m,d:m}}function Wl(r){let e,l=pe(r[3])+"",n,t;function s(o,a){if(o[0].type=="user_added")return Jl;if(o[0].type=="user_remove")return Xl}let i=s(r),c=i&&i(r);return{c(){c&&c.c(),e=q(),n=O(l),t=O(".")},l(o){c&&c.l(o),e=F(o),n=B(o,l),t=B(o,".")},m(o,a){c&&c.m(o,a),k(o,e,a),k(o,n,a),k(o,t,a)},p(o,a){i!==(i=s(o))&&(c&&c.d(1),c=i&&i(o),c&&(c.c(),c.m(e.parentNode,e))),a&1&&l!==(l=pe(o[3])+"")&&se(n,l)},d(o){o&&(u(e),u(n),u(t)),c&&c.d(o)}}}function Xl(r){let e;return{c(){e=O("removed")},l(l){e=B(l,"removed")},m(l,n){k(l,e,n)},d(l){l&&u(e)}}}function Jl(r){let e;return{c(){e=O("added")},l(l){e=B(l,"added")},m(l,n){k(l,e,n)},d(l){l&&u(e)}}}function Ql(r){return{c:m,l:m,m,p:m,d:m}}function Yl(r){return{c:m,l:m,m,p:m,d:m}}function Zl(r){let e;function l(s,i){if(s[0].type=="text")return Nl;if(s[0].type=="channel_description_changed"||s[0].type=="channel_icon_changed"||s[0].type=="channel_renamed"||s[0].type=="user_added"||s[0].type=="user_remove")return Tl;if(s[0].type=="channel_ownership_changed")return Cl;if(s[0].type=="user_banned"||s[0].type=="user_joined"||s[0].type=="user_kicked"||s[0].type=="user_left")return Il}let n=l(r),t=n&&n(r);return{c(){e=C("span"),t&&t.c(),this.h()},l(s){e=T(s,"SPAN",{class:!0});var i=S(e);t&&t.l(i),i.forEach(u),this.h()},h(){f(e,"class","container svelte-qj8q6t")},m(s,i){k(s,e,i),t&&t.m(e,null)},p(s,[i]){n===(n=l(s))&&t?t.p(s,i):(t&&t.d(1),t=n&&n(s),t&&(t.c(),t.m(e,null)))},i:m,o:m,d(s){s&&u(e),t&&t.d()}}}function xl(r,e,l){const n=te(Ce);let{system:t}=e;const s=i=>n.api.fetchUser(i);return r.$$set=i=>{"system"in i&&l(0,t=i.system)},[t,n,s]}class en extends me{constructor(e){super(),de(this,e,xl,Zl,he,{system:0})}}function tn(r){let e,l,n,t,s,i,c,o="Ok",a,d,_="Cancel",h,g,P;const w=r[3].default,M=zt(w,r,r[2],null);return{c(){e=C("dialog"),l=C("div"),M&&M.c(),n=q(),t=C("hr"),s=q(),i=C("form"),c=C("button"),c.textContent=o,a=q(),d=C("button"),d.textContent=_,this.h()},l(I){e=T(I,"DIALOG",{});var j=S(e);l=T(j,"DIV",{});var H=S(l);M&&M.l(H),n=F(H),t=T(H,"HR",{}),s=F(H),i=T(H,"FORM",{id:!0,method:!0});var K=S(i);c=T(K,"BUTTON",{type:!0,"data-svelte-h":!0}),Ne(c)!=="svelte-fdbbw9"&&(c.textContent=o),a=F(K),d=T(K,"BUTTON",{type:!0,"data-svelte-h":!0}),Ne(d)!=="svelte-1gqjcfl"&&(d.textContent=_),K.forEach(u),H.forEach(u),j.forEach(u),this.h()},h(){f(c,"type","submit"),f(d,"type","reset"),f(i,"id","modal-form"),f(i,"method","dialog")},m(I,j){k(I,e,j),v(e,l),M&&M.m(l,null),v(l,n),v(l,t),v(l,s),v(l,i),v(i,c),v(i,a),v(i,d),r[6](e),h=!0,g||(P=[ue(d,"click",r[5]),ue(i,"submit",r[4]),ue(e,"close",r[7])],g=!0)},p(I,[j]){M&&M.p&&(!h||j&4)&&Ht(M,w,I,I[2],h?Xt(w,I[2],j,null):Wt(I[2]),null)},i(I){h||(b(M,I),h=!0)},o(I){E(M,I),h=!1},d(I){I&&u(e),M&&M.d(I),r[6](null),g=!1,je(P)}}}function ln(r,e,l){let{$$slots:n={},$$scope:t}=e,{showModal:s}=e,i;function c(_){Jt.call(this,r,_)}const o=()=>l(0,s=!1);function a(_){Se[_?"unshift":"push"](()=>{i=_,l(1,i)})}const d=()=>l(0,s=!1);return r.$$set=_=>{"showModal"in _&&l(0,s=_.showModal),"$$scope"in _&&l(2,t=_.$$scope)},r.$$.update=()=>{r.$$.dirty&3&&(s?i==null||i.showModal():i==null||i.close())},[s,i,t,n,c,o,a,d]}class nn extends me{constructor(e){super(),de(this,e,ln,tn,he,{showModal:0})}}function rn(r){let e,l="External Link",n,t,s,i,c="Are you sure you want to go to this link? External links can be dangerous.";return{c(){e=C("h1"),e.textContent=l,n=q(),t=C("hr"),s=q(),i=C("p"),i.textContent=c,this.h()},l(o){e=T(o,"H1",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-qkxu7n"&&(e.textContent=l),n=F(o),t=T(o,"HR",{}),s=F(o),i=T(o,"P",{"data-svelte-h":!0}),Ne(i)!=="svelte-os1rtp"&&(i.textContent=c),this.h()},h(){f(e,"class","text-3xl")},m(o,a){k(o,e,a),k(o,n,a),k(o,t,a),k(o,s,a),k(o,i,a)},p:m,d(o){o&&(u(e),u(n),u(t),u(s),u(i))}}}function sn(r){let e,l,n,t,s,i,c,o;function a(_){r[2](_)}let d={$$slots:{default:[rn]},$$scope:{ctx:r}};return r[1]!==void 0&&(d.showModal=r[1]),e=new nn({props:d}),Se.push(()=>Re(e,"showModal",a)),e.$on("submit",r[3]),{c(){le(e.$$.fragment),n=q(),t=C("a"),s=O(r[0]),this.h()},l(_){ie(e.$$.fragment,_),n=F(_),t=T(_,"A",{href:!0,target:!0,rel:!0});var h=S(t);s=B(h,r[0]),h.forEach(u),this.h()},h(){f(t,"href",r[0]),f(t,"target","_blank"),f(t,"rel","noreferrer")},m(_,h){ne(e,_,h),k(_,n,h),k(_,t,h),v(t,s),i=!0,c||(o=ue(t,"click",Qt(r[4])),c=!0)},p(_,[h]){const g={};h&32&&(g.$$scope={dirty:h,ctx:_}),!l&&h&2&&(l=!0,g.showModal=_[1],Ge(()=>l=!1)),e.$set(g),(!i||h&1)&&se(s,_[0]),(!i||h&1)&&f(t,"href",_[0])},i(_){i||(b(e.$$.fragment,_),i=!0)},o(_){E(e.$$.fragment,_),i=!1},d(_){_&&(u(n),u(t)),re(e,_),c=!1,o()}}}function on(r,e,l){let{href:n}=e,t=!1;function s(o){t=o,l(1,t)}const i=()=>window.open(n),c=()=>l(1,t=!0);return r.$$set=o=>{"href"in o&&l(0,n=o.href)},[n,t,s,i,c]}class We extends me{constructor(e){super(),de(this,e,on,sn,he,{href:0})}}function cn(r){let e,l,n,t;const s=[mn,hn],i=[];function c(o,a){return o[2]["jolt:low-data-mode"]?0:1}return e=c(r),l=i[e]=s[e](r),{c(){l.c(),n=G()},l(o){l.l(o),n=G()},m(o,a){i[e].m(o,a),k(o,n,a),t=!0},p(o,a){let d=e;e=c(o),e===d?i[e].p(o,a):(x(),E(i[d],1,1,()=>{i[d]=null}),ee(),l=i[e],l?l.p(o,a):(l=i[e]=s[e](o),l.c()),b(l,1),l.m(n.parentNode,n))},i(o){t||(b(l),t=!0)},o(o){E(l),t=!1},d(o){o&&u(n),i[e].d(o)}}}function an(r){let e,l,n=r[0].filename+"",t,s,i,c;return i=new We({props:{href:r[1]}}),{c(){e=C("span"),l=O("[File "),t=O(n),s=O(`]
			`),le(i.$$.fragment),this.h()},l(o){e=T(o,"SPAN",{class:!0});var a=S(e);l=B(a,"[File "),t=B(a,n),s=B(a,`]
			`),ie(i.$$.fragment,a),a.forEach(u),this.h()},h(){f(e,"class","text-gray-500")},m(o,a){k(o,e,a),v(e,l),v(e,t),v(e,s),ne(i,e,null),c=!0},p(o,a){(!c||a&1)&&n!==(n=o[0].filename+"")&&se(t,n);const d={};a&2&&(d.href=o[1]),i.$set(d)},i(o){c||(b(i.$$.fragment,o),c=!0)},o(o){E(i.$$.fragment,o),c=!1},d(o){o&&u(e),re(i)}}}function fn(r){let e,l,n;return{c(){e=C("audio"),l=C("source"),this.h()},l(t){e=T(t,"AUDIO",{});var s=S(e);l=T(s,"SOURCE",{src:!0}),s.forEach(u),this.h()},h(){Y(l.src,n=r[1])||f(l,"src",n),e.controls=!0},m(t,s){k(t,e,s),v(e,l)},p(t,s){s&2&&!Y(l.src,n=t[1])&&f(l,"src",n)},i:m,o:m,d(t){t&&u(e)}}}function un(r){let e,l,n;return{c(){e=C("video"),l=C("source"),this.h()},l(t){e=T(t,"VIDEO",{class:!0});var s=S(e);l=T(s,"SOURCE",{src:!0}),s.forEach(u),this.h()},h(){Y(l.src,n=r[1])||f(l,"src",n),e.controls=!0,f(e,"class","svelte-m38imf")},m(t,s){k(t,e,s),v(e,l)},p(t,s){s&2&&!Y(l.src,n=t[1])&&f(l,"src",n)},i:m,o:m,d(t){t&&u(e)}}}function _n(r){let e,l,n,t;const s=[yn,wn],i=[];function c(o,a){return o[2]["jolt:low-data-mode"]?0:1}return e=c(r),l=i[e]=s[e](r),{c(){l.c(),n=G()},l(o){l.l(o),n=G()},m(o,a){i[e].m(o,a),k(o,n,a),t=!0},p(o,a){let d=e;e=c(o),e===d?i[e].p(o,a):(x(),E(i[d],1,1,()=>{i[d]=null}),ee(),l=i[e],l?l.p(o,a):(l=i[e]=s[e](o),l.c()),b(l,1),l.m(n.parentNode,n))},i(o){t||(b(l),t=!0)},o(o){E(l),t=!1},d(o){o&&u(n),i[e].d(o)}}}function hn(r){let e,l,n={ctx:r,current:null,token:null,hasCatch:!0,pending:vn,then:pn,catch:dn,value:4,error:6};return ae(l=fetch(r[1]),n),{c(){e=G(),n.block.c()},l(t){e=G(),n.block.l(t)},m(t,s){k(t,e,s),n.block.m(t,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e},p(t,s){r=t,n.ctx=r,s&2&&l!==(l=fetch(r[1]))&&ae(l,n)||we(n,r,s)},i:m,o:m,d(t){t&&u(e),n.block.d(t),n.token=null,n=null}}}function mn(r){let e,l,n,t,s;return n=new We({props:{href:r[1]}}),{c(){e=C("span"),l=O("[Text "),le(n.$$.fragment),t=O("]"),this.h()},l(i){e=T(i,"SPAN",{class:!0});var c=S(e);l=B(c,"[Text "),ie(n.$$.fragment,c),t=B(c,"]"),c.forEach(u),this.h()},h(){f(e,"class","text-gray-500")},m(i,c){k(i,e,c),v(e,l),ne(n,e,null),v(e,t),s=!0},p(i,c){const o={};c&2&&(o.href=i[1]),n.$set(o)},i(i){s||(b(n.$$.fragment,i),s=!0)},o(i){E(n.$$.fragment,i),s=!1},d(i){i&&u(e),re(n)}}}function dn(r){let e,l,n=r[0].filename+"",t,s,i=r[6]+"",c;return{c(){e=C("p"),l=O("Unable to download "),t=O(n),s=O(": "),c=O(i)},l(o){e=T(o,"P",{});var a=S(e);l=B(a,"Unable to download "),t=B(a,n),s=B(a,": "),c=B(a,i),a.forEach(u)},m(o,a){k(o,e,a),v(e,l),v(e,t),v(e,s),v(e,c)},p(o,a){a&1&&n!==(n=o[0].filename+"")&&se(t,n),a&2&&i!==(i=o[6]+"")&&se(c,i)},d(o){o&&u(e)}}}function pn(r){let e,l,n={ctx:r,current:null,token:null,hasCatch:!1,pending:bn,then:kn,catch:gn,value:5};return ae(l=r[4].text(),n),{c(){e=G(),n.block.c()},l(t){e=G(),n.block.l(t)},m(t,s){k(t,e,s),n.block.m(t,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e},p(t,s){r=t,n.ctx=r,s&2&&l!==(l=r[4].text())&&ae(l,n)||we(n,r,s)},d(t){t&&u(e),n.block.d(t),n.token=null,n=null}}}function gn(r){return{c:m,l:m,m,p:m,d:m}}function kn(r){let e,l=r[5]+"",n;return{c(){e=C("p"),n=O(l)},l(t){e=T(t,"P",{});var s=S(e);n=B(s,l),s.forEach(u)},m(t,s){k(t,e,s),v(e,n)},p(t,s){s&2&&l!==(l=t[5]+"")&&se(n,l)},d(t){t&&u(e)}}}function bn(r){return{c:m,l:m,m,p:m,d:m}}function vn(r){return{c:m,l:m,m,p:m,d:m}}function wn(r){let e,l,n;return{c(){e=C("img"),this.h()},l(t){e=T(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Y(e.src,l=r[1])||f(e,"src",l),f(e,"alt",n=r[0].filename),f(e,"class","max-w-xl max-h-xl svelte-m38imf")},m(t,s){k(t,e,s)},p(t,s){s&2&&!Y(e.src,l=t[1])&&f(e,"src",l),s&1&&n!==(n=t[0].filename)&&f(e,"alt",n)},i:m,o:m,d(t){t&&u(e)}}}function yn(r){let e,l,n,t,s;return n=new We({props:{href:r[1]}}),{c(){e=C("span"),l=O("[Image "),le(n.$$.fragment),t=O("]"),this.h()},l(i){e=T(i,"SPAN",{class:!0});var c=S(e);l=B(c,"[Image "),ie(n.$$.fragment,c),t=B(c,"]"),c.forEach(u),this.h()},h(){f(e,"class","text-gray-500")},m(i,c){k(i,e,c),v(e,l),ne(n,e,null),v(e,t),s=!0},p(i,c){const o={};c&2&&(o.href=i[1]),n.$set(o)},i(i){s||(b(n.$$.fragment,i),s=!0)},o(i){E(n.$$.fragment,i),s=!1},d(i){i&&u(e),re(n)}}}function $n(r){let e,l,n,t;const s=[_n,un,fn,an,cn],i=[];function c(o,a){return o[0].metadata.type=="Image"?0:o[0].metadata.type=="Video"?1:o[0].metadata.type=="Audio"?2:o[0].metadata.type=="File"?3:o[0].metadata.type=="Text"?4:-1}return~(l=c(r))&&(n=i[l]=s[l](r)),{c(){e=C("div"),n&&n.c()},l(o){e=T(o,"DIV",{});var a=S(e);n&&n.l(a),a.forEach(u)},m(o,a){k(o,e,a),~l&&i[l].m(e,null),t=!0},p(o,[a]){let d=l;l=c(o),l===d?~l&&i[l].p(o,a):(n&&(x(),E(i[d],1,1,()=>{i[d]=null}),ee()),~l?(n=i[l],n?n.p(o,a):(n=i[l]=s[l](o),n.c()),b(n,1),n.m(e,null)):n=null)},i(o){t||(b(n),t=!0)},o(o){E(n),t=!1},d(o){o&&u(e),~l&&i[l].d()}}}function En(r,e,l){let n,t;const s=te(De);fe(r,s,c=>l(2,t=c));let{attachment:i}=e;return r.$$set=c=>{"attachment"in c&&l(0,i=c.attachment)},r.$$.update=()=>{r.$$.dirty&1&&l(1,n=ll(i))},[i,n,t,s]}class Mn extends me{constructor(e){super(),de(this,e,En,$n,he,{attachment:0})}}function In(r){let e,l="oop website embed, can't handle that :(";return{c(){e=C("span"),e.textContent=l,this.h()},l(n){e=T(n,"SPAN",{style:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-rjpnkw"&&(e.textContent=l),this.h()},h(){Be(e,"color","var(--secondary-foreground)")},m(n,t){k(n,e,t)},p:m,d(n){n&&u(e)}}}function Cn(r){let e,l,n,t=r[0].icon_url&&!r[1]["jolt:low-data-mode"]&&rt(r),s=r[0].title&&it(r),i=r[0].description&&st(r);return{c(){e=C("div"),t&&t.c(),l=q(),s&&s.c(),n=q(),i&&i.c(),this.h()},l(c){e=T(c,"DIV",{class:!0,style:!0});var o=S(e);t&&t.l(o),l=F(o),s&&s.l(o),n=F(o),i&&i.l(o),o.forEach(u),this.h()},h(){f(e,"class","text-embed svelte-qbtmm9"),Be(e,"border-left","solid "+r[0].colour)},m(c,o){k(c,e,o),t&&t.m(e,null),v(e,l),s&&s.m(e,null),v(e,n),i&&i.m(e,null)},p(c,o){c[0].icon_url&&!c[1]["jolt:low-data-mode"]?t?t.p(c,o):(t=rt(c),t.c(),t.m(e,l)):t&&(t.d(1),t=null),c[0].title?s?s.p(c,o):(s=it(c),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0].description?i?i.p(c,o):(i=st(c),i.c(),i.m(e,null)):i&&(i.d(1),i=null),o&1&&Be(e,"border-left","solid "+c[0].colour)},d(c){c&&u(e),t&&t.d(),s&&s.d(),i&&i.d()}}}function Tn(r){let e,l,n,t,s;return{c(){e=C("video"),l=C("source"),this.h()},l(i){e=T(i,"VIDEO",{class:!0});var c=S(e);l=T(c,"SOURCE",{src:!0,width:!0,height:!0}),c.forEach(u),this.h()},h(){Y(l.src,n=r[0].url)||f(l,"src",n),f(l,"width",t=r[0].width),f(l,"height",s=r[0].height),e.controls=!0,f(e,"class","svelte-qbtmm9")},m(i,c){k(i,e,c),v(e,l)},p(i,c){c&1&&!Y(l.src,n=i[0].url)&&f(l,"src",n),c&1&&t!==(t=i[0].width)&&f(l,"width",t),c&1&&s!==(s=i[0].height)&&f(l,"height",s)},d(i){i&&u(e)}}}function Nn(r){let e,l,n,t;return{c(){e=C("img"),this.h()},l(s){e=T(s,"IMG",{src:!0,width:!0,height:!0,class:!0}),this.h()},h(){Y(e.src,l=r[0].url)||f(e,"src",l),f(e,"width",n=r[0].width),f(e,"height",t=r[0].height),f(e,"class","svelte-qbtmm9")},m(s,i){k(s,e,i)},p(s,i){i&1&&!Y(e.src,l=s[0].url)&&f(e,"src",l),i&1&&n!==(n=s[0].width)&&f(e,"width",n),i&1&&t!==(t=s[0].height)&&f(e,"height",t)},d(s){s&&u(e)}}}function rt(r){let e,l,n;return{c(){e=C("img"),this.h()},l(t){e=T(t,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),this.h()},h(){Y(e.src,l=r[0].icon_url)||f(e,"src",l),f(e,"alt",n=r[0].title),f(e,"width","24"),f(e,"height","24"),f(e,"class","svelte-qbtmm9")},m(t,s){k(t,e,s)},p(t,s){s&1&&!Y(e.src,l=t[0].icon_url)&&f(e,"src",l),s&1&&n!==(n=t[0].title)&&f(e,"alt",n)},d(t){t&&u(e)}}}function it(r){let e,l=r[0].title+"",n;return{c(){e=C("h1"),n=O(l)},l(t){e=T(t,"H1",{});var s=S(e);n=B(s,l),s.forEach(u)},m(t,s){k(t,e,s),v(e,n)},p(t,s){s&1&&l!==(l=t[0].title+"")&&se(n,l)},d(t){t&&u(e)}}}function st(r){let e,l=r[0].description+"",n;return{c(){e=C("p"),n=O(l)},l(t){e=T(t,"P",{});var s=S(e);n=B(s,l),s.forEach(u)},m(t,s){k(t,e,s),v(e,n)},p(t,s){s&1&&l!==(l=t[0].description+"")&&se(n,l)},d(t){t&&u(e)}}}function Un(r){let e;function l(s,i){if(s[0].type=="Image"&&!s[1]["jolt:low-data-mode"])return Nn;if(s[0].type=="Video"&&!s[1]["jolt:low-data-mode"])return Tn;if(s[0].type=="Text")return Cn;if(s[0].type=="Website")return In}let n=l(r),t=n&&n(r);return{c(){t&&t.c(),e=G()},l(s){t&&t.l(s),e=G()},m(s,i){t&&t.m(s,i),k(s,e,i)},p(s,[i]){n===(n=l(s))&&t?t.p(s,i):(t&&t.d(1),t=n&&n(s),t&&(t.c(),t.m(e.parentNode,e)))},i:m,o:m,d(s){s&&u(e),t&&t.d(s)}}}function jn(r,e,l){let n,{embed:t}=e;const s=te(De);return fe(r,s,i=>l(1,n=i)),r.$$set=i=>{"embed"in i&&l(0,t=i.embed)},[t,n,s]}class Sn extends me{constructor(e){super(),de(this,e,jn,Un,he,{embed:0})}}function Dn(r){let e,l,n;return{c(){e=C("textarea"),this.h()},l(t){e=T(t,"TEXTAREA",{maxlength:!0,placeholder:!0,class:!0}),S(e).forEach(u),this.h()},h(){f(e,"maxlength","2000"),f(e,"placeholder",r[1]),f(e,"class","svelte-kqfcqt")},m(t,s){k(t,e,s),Pe(e,r[0]),l||(n=[ue(e,"blur",r[3]),ue(e,"input",r[4]),ue(e,"keydown",r[6]),ue(e,"input",r[7])],l=!0)},p(t,[s]){s&2&&f(e,"placeholder",t[1]),s&1&&Pe(e,t[0])},i:m,o:m,d(t){t&&u(e),l=!1,je(n)}}}function An(r,e,l){const n=te(Ce),t=te(Vt);let{placeholder:s=void 0}=e,{value:i=""}=e,{sendTypingEvents:c}=e;const o=Yt();function a(){c&&n.websocket.send({type:"EndTyping",channel:t._id})}function d(){if(c){if(i==""){n.websocket.send({type:"EndTyping",channel:t._id});return}n.websocket.send({type:"BeginTyping",channel:t._id})}}const _=g=>{var P;o("keydown",g),!(g.shiftKey||g.key!="Enter")&&(g.preventDefault(),(P=g.currentTarget.form)==null||P.requestSubmit())};function h(){i=this.value,l(0,i)}return r.$$set=g=>{"placeholder"in g&&l(1,s=g.placeholder),"value"in g&&l(0,i=g.value),"sendTypingEvents"in g&&l(5,c=g.sendTypingEvents)},[i,s,o,a,d,c,_,h]}class Rt extends me{constructor(e){super(),de(this,e,An,Dn,he,{placeholder:1,value:0,sendTypingEvents:5})}}function ot(r,e,l){const n=r.slice();return n[26]=e[l],n}function ct(r,e,l){const n=r.slice();return n[29]=e[l],n}function Fe(r){const e=r.slice(),l=new Date(e[0].edited);return e[6]=l,e}function On(r){const e=r.slice(),l=ke(e[1],e[2],e[0]);return e[32]=l,e}function at(r,e,l){const n=r.slice();return n[33]=e[l],n}function ft(r,e,l){const n=r.slice();return n[36]=e[l].name,n[37]=e[l].onclick,n[38]=e[l].src,n[39]=e[l].showIf,n}function ut(r){let e,l,n,t,s,i,c;const o=[Pn,Bn],a=[];function d(h,g){return typeof h[38]=="string"?0:1}l=d(r),n=a[l]=o[l](r);function _(){return r[18](r[37])}return{c(){e=C("button"),n.c(),t=q()},l(h){e=T(h,"BUTTON",{});var g=S(e);n.l(g),t=F(g),g.forEach(u)},m(h,g){k(h,e,g),a[l].m(e,null),v(e,t),s=!0,i||(c=[ue(e,"click",_),Pt(Gt.call(null,e,{content:r[36],theme:"top-tooltip"}))],i=!0)},p(h,g){r=h,n.p(r,g)},i(h){s||(b(n),s=!0)},o(h){E(n),s=!1},d(h){h&&u(e),a[l].d(),i=!1,je(c)}}}function Bn(r){let e,l,n;var t=r[38];function s(i){return{}}return t&&(e=Xe(t,s())),{c(){e&&le(e.$$.fragment),l=G()},l(i){e&&ie(e.$$.fragment,i),l=G()},m(i,c){e&&ne(e,i,c),k(i,l,c),n=!0},p(i,c){if(t!==(t=i[38])){if(e){x();const o=e;E(o.$$.fragment,1,0,()=>{re(o,1)}),ee()}t?(e=Xe(t,s()),le(e.$$.fragment),b(e.$$.fragment,1),ne(e,l.parentNode,l)):e=null}},i(i){n||(e&&b(e.$$.fragment,i),n=!0)},o(i){e&&E(e.$$.fragment,i),n=!1},d(i){i&&u(l),e&&re(e,i)}}}function Pn(r){let e,l;return{c(){e=C("img"),this.h()},l(n){e=T(n,"IMG",{src:!0,alt:!0}),this.h()},h(){Y(e.src,l=r[38])||f(e,"src",l),f(e,"alt",r[36])},m(n,t){k(n,e,t)},p:m,i:m,o:m,d(n){n&&u(e)}}}function _t(r){var s;let e=((s=r[39])==null?void 0:s.call(r,r[0]))??!0,l,n,t=e&&ut(r);return{c(){t&&t.c(),l=G()},l(i){t&&t.l(i),l=G()},m(i,c){t&&t.m(i,c),k(i,l,c),n=!0},p(i,c){var o;c[0]&1&&(e=((o=i[39])==null?void 0:o.call(i,i[0]))??!0),e?t?(t.p(i,c),c[0]&1&&b(t,1)):(t=ut(i),t.c(),b(t,1),t.m(l.parentNode,l)):t&&(x(),E(t,1,1,()=>{t=null}),ee())},i(i){n||(b(t),n=!0)},o(i){E(t),n=!1},d(i){i&&u(l),t&&t.d(i)}}}function ht(r){let e,l,n=_e(r[0].replies),t=[];for(let i=0;i<n.length;i+=1)t[i]=mt(at(r,n,i));const s=i=>E(t[i],1,1,()=>{t[i]=null});return{c(){e=C("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=T(i,"DIV",{class:!0});var c=S(e);for(let o=0;o<t.length;o+=1)t[o].l(c);c.forEach(u),this.h()},h(){f(e,"class","replies svelte-or2lik")},m(i,c){k(i,e,c);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null);l=!0},p(i,c){if(c[0]&1){n=_e(i[0].replies);let o;for(o=0;o<n.length;o+=1){const a=at(i,n,o);t[o]?(t[o].p(a,c),b(t[o],1)):(t[o]=mt(a),t[o].c(),b(t[o],1),t[o].m(e,null))}for(x(),o=n.length;o<t.length;o+=1)s(o);ee()}},i(i){if(!l){for(let c=0;c<n.length;c+=1)b(t[c]);l=!0}},o(i){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)E(t[c]);l=!1},d(i){i&&u(e),Ee(t,i)}}}function mt(r){let e,l;return e=new wl({props:{id:r[33]}}),{c(){le(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,t){ne(e,n,t),l=!0},p(n,t){const s={};t[0]&1&&(s.id=n[33]),e.$set(s)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){re(e,n)}}}function dt(r){let e,l,n,t,s,i,c,o=Ue(r[6]).calendar()+"",a,d,_;const h=[qn,Vn],g=[];function P(I,j){return I[5]["jolt:low-data-mode"]||I[1]==null?0:1}function w(I,j){return j===1?On(I):I}l=P(r),n=g[l]=h[l](w(r,l));let M=r[0].edited!=null&&pt(Fe(r));return{c(){e=C("div"),n.c(),t=q(),s=O(r[4]),i=q(),c=C("p"),a=O(o),d=q(),M&&M.c(),this.h()},l(I){e=T(I,"DIV",{class:!0});var j=S(e);n.l(j),t=F(j),s=B(j,r[4]),i=F(j),c=T(j,"P",{class:!0});var H=S(c);a=B(H,o),d=F(H),M&&M.l(H),H.forEach(u),j.forEach(u),this.h()},h(){f(c,"class","timestamp svelte-or2lik"),f(e,"class","user-detail svelte-or2lik")},m(I,j){k(I,e,j),g[l].m(e,null),v(e,t),v(e,s),v(e,i),v(e,c),v(c,a),v(c,d),M&&M.m(c,null),_=!0},p(I,j){let H=l;l=P(I),l===H?g[l].p(w(I,l),j):(x(),E(g[H],1,1,()=>{g[H]=null}),ee(),n=g[l],n?n.p(w(I,l),j):(n=g[l]=h[l](w(I,l)),n.c()),b(n,1),n.m(e,t)),(!_||j[0]&16)&&se(s,I[4]),(!_||j[0]&64)&&o!==(o=Ue(I[6]).calendar()+"")&&se(a,o),I[0].edited!=null?M?M.p(Fe(I),j):(M=pt(Fe(I)),M.c(),M.m(c,null)):M&&(M.d(1),M=null)},i(I){_||(b(n),_=!0)},o(I){E(n),_=!1},d(I){I&&u(e),g[l].d(),M&&M.d()}}}function Vn(r){let e,l,n,t;const s=[Ln,Fn],i=[];function c(o,a){return o[32]==null?0:1}return e=c(r),l=i[e]=s[e](r),{c(){l.c(),n=G()},l(o){l.l(o),n=G()},m(o,a){i[e].m(o,a),k(o,n,a),t=!0},p(o,a){let d=e;e=c(o),e===d?i[e].p(o,a):(x(),E(i[d],1,1,()=>{i[d]=null}),ee(),l=i[e],l?l.p(o,a):(l=i[e]=s[e](o),l.c()),b(l,1),l.m(n.parentNode,n))},i(o){t||(b(l),t=!0)},o(o){E(l),t=!1},d(o){o&&u(n),i[e].d(o)}}}function qn(r){let e,l;return e=new Ae({}),{c(){le(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,t){ne(e,n,t),l=!0},p:m,i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){re(e,n)}}}function Fn(r){let e,l;return{c(){e=C("img"),this.h()},l(n){e=T(n,"IMG",{class:!0,alt:!0,src:!0,width:!0,height:!0}),this.h()},h(){f(e,"class","cover"),f(e,"alt",r[4]),Y(e.src,l=r[32])||f(e,"src",l),f(e,"width","40px"),f(e,"height","40px")},m(n,t){k(n,e,t)},p(n,t){t[0]&16&&f(e,"alt",n[4]),t[0]&7&&!Y(e.src,l=n[32])&&f(e,"src",l)},i:m,o:m,d(n){n&&u(e)}}}function Ln(r){let e,l;return e=new Ae({}),{c(){le(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,t){ne(e,n,t),l=!0},p:m,i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){re(e,n)}}}function pt(r){let e,l="(edited)",n,t,s;return{c(){e=C("span"),e.textContent=l,this.h()},l(i){e=T(i,"SPAN",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1c19xdw"&&(e.textContent=l),this.h()},h(){f(e,"class","timestamp svelte-or2lik")},m(i,c){k(i,e,c),t||(s=Pt(n=Gt.call(null,e,{placement:"top",content:Ue(r[6]).calendar(),theme:"top-tooltip",animation:"shift-away-subtle",duration:100})),t=!0)},p(i,c){r=i,n&&Zt(n.update)&&c[0]&1&&n.update.call(null,{placement:"top",content:Ue(r[6]).calendar(),theme:"top-tooltip",animation:"shift-away-subtle",duration:100})},d(i){i&&u(e),t=!1,s()}}}function Gn(r){let e,l=r[0].content+"",n;return{c(){e=C("span"),n=O(l),this.h()},l(t){e=T(t,"SPAN",{class:!0});var s=S(e);n=B(s,l),s.forEach(u),this.h()},h(){f(e,"class","message-content svelte-or2lik")},m(t,s){k(t,e,s),v(e,n)},p(t,s){s[0]&1&&l!==(l=t[0].content+"")&&se(n,l)},i:m,o:m,d(t){t&&u(e)}}}function Rn(r){let e,l,n,t,s,i;function c(a){r[19](a)}let o={placeholder:"Edit this message",sendTypingEvents:!1};return r[3]!==void 0&&(o.value=r[3]),l=new Rt({props:o}),Se.push(()=>Re(l,"value",c)),l.$on("keydown",r[20]),{c(){e=C("form"),le(l.$$.fragment),this.h()},l(a){e=T(a,"FORM",{id:!0,class:!0});var d=S(e);ie(l.$$.fragment,d),d.forEach(u),this.h()},h(){f(e,"id","message-edit-form"),f(e,"class","message-form")},m(a,d){k(a,e,d),ne(l,e,null),t=!0,s||(i=ue(e,"submit",r[13]),s=!0)},p(a,d){const _={};!n&&d[0]&8&&(n=!0,_.value=a[3],Ge(()=>n=!1)),l.$set(_)},i(a){t||(b(l.$$.fragment,a),t=!0)},o(a){E(l.$$.fragment,a),t=!1},d(a){a&&u(e),re(l),s=!1,i()}}}function gt(r){let e,l;return e=new en({props:{system:r[0].system}}),{c(){le(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,t){ne(e,n,t),l=!0},p(n,t){const s={};t[0]&1&&(s.system=n[0].system),e.$set(s)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){re(e,n)}}}function kt(r){let e,l,n=_e(r[0].attachments),t=[];for(let i=0;i<n.length;i+=1)t[i]=bt(ct(r,n,i));const s=i=>E(t[i],1,1,()=>{t[i]=null});return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=G()},l(i){for(let c=0;c<t.length;c+=1)t[c].l(i);e=G()},m(i,c){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(i,c);k(i,e,c),l=!0},p(i,c){if(c[0]&1){n=_e(i[0].attachments);let o;for(o=0;o<n.length;o+=1){const a=ct(i,n,o);t[o]?(t[o].p(a,c),b(t[o],1)):(t[o]=bt(a),t[o].c(),b(t[o],1),t[o].m(e.parentNode,e))}for(x(),o=n.length;o<t.length;o+=1)s(o);ee()}},i(i){if(!l){for(let c=0;c<n.length;c+=1)b(t[c]);l=!0}},o(i){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)E(t[c]);l=!1},d(i){i&&u(e),Ee(t,i)}}}function bt(r){let e,l;return e=new Mn({props:{attachment:r[29]}}),{c(){le(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,t){ne(e,n,t),l=!0},p(n,t){const s={};t[0]&1&&(s.attachment=n[29]),e.$set(s)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){re(e,n)}}}function vt(r){let e,l,n=_e(r[0].embeds),t=[];for(let i=0;i<n.length;i+=1)t[i]=wt(ot(r,n,i));const s=i=>E(t[i],1,1,()=>{t[i]=null});return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=G()},l(i){for(let c=0;c<t.length;c+=1)t[c].l(i);e=G()},m(i,c){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(i,c);k(i,e,c),l=!0},p(i,c){if(c[0]&1){n=_e(i[0].embeds);let o;for(o=0;o<n.length;o+=1){const a=ot(i,n,o);t[o]?(t[o].p(a,c),b(t[o],1)):(t[o]=wt(a),t[o].c(),b(t[o],1),t[o].m(e.parentNode,e))}for(x(),o=n.length;o<t.length;o+=1)s(o);ee()}},i(i){if(!l){for(let c=0;c<n.length;c+=1)b(t[c]);l=!0}},o(i){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)E(t[c]);l=!1},d(i){i&&u(e),Ee(t,i)}}}function wt(r){let e,l;return e=new Sn({props:{embed:r[26]}}),{c(){le(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,t){ne(e,n,t),l=!0},p(n,t){const s={};t[0]&1&&(s.embed=n[26]),e.$set(s)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){re(e,n)}}}function Kn(r){let e,l,n,t,s=r[14](r[0])&&r[0].system==null,i,c,o,a,d,_,h,g,P=_e(r[12]),w=[];for(let y=0;y<P.length;y+=1)w[y]=_t(ft(r,P,y));const M=y=>E(w[y],1,1,()=>{w[y]=null});let I=r[0].replies!=null&&r[0].replies.length!=0&&ht(r),j=s&&dt(r);const H=[Rn,Gn],K=[];function X(y,$){return y[3]!=null?0:y[0].content!=null?1:-1}~(c=X(r))&&(o=K[c]=H[c](r));let L=r[0].system!=null&&gt(r),W=r[0].attachments!=null&&kt(r),J=r[0].embeds!=null&&vt(r);return{c(){e=C("div"),l=C("div");for(let y=0;y<w.length;y+=1)w[y].c();n=q(),I&&I.c(),t=q(),j&&j.c(),i=q(),o&&o.c(),a=q(),L&&L.c(),d=q(),W&&W.c(),_=q(),J&&J.c(),this.h()},l(y){e=T(y,"DIV",{id:!0,class:!0});var $=S(e);l=T($,"DIV",{class:!0});var z=S(l);for(let N=0;N<w.length;N+=1)w[N].l(z);z.forEach(u),n=F($),I&&I.l($),t=F($),j&&j.l($),i=F($),o&&o.l($),a=F($),L&&L.l($),d=F($),W&&W.l($),_=F($),J&&J.l($),$.forEach(u),this.h()},h(){f(l,"class","message-controls svelte-or2lik"),f(e,"id",h="MESSAGE-"+r[0]._id),f(e,"class","message-container svelte-or2lik")},m(y,$){k(y,e,$),v(e,l);for(let z=0;z<w.length;z+=1)w[z]&&w[z].m(l,null);v(e,n),I&&I.m(e,null),v(e,t),j&&j.m(e,null),v(e,i),~c&&K[c].m(e,null),v(e,a),L&&L.m(e,null),v(e,d),W&&W.m(e,null),v(e,_),J&&J.m(e,null),g=!0},p(y,$){if($[0]&4097){P=_e(y[12]);let N;for(N=0;N<P.length;N+=1){const D=ft(y,P,N);w[N]?(w[N].p(D,$),b(w[N],1)):(w[N]=_t(D),w[N].c(),b(w[N],1),w[N].m(l,null))}for(x(),N=P.length;N<w.length;N+=1)M(N);ee()}y[0].replies!=null&&y[0].replies.length!=0?I?(I.p(y,$),$[0]&1&&b(I,1)):(I=ht(y),I.c(),b(I,1),I.m(e,t)):I&&(x(),E(I,1,1,()=>{I=null}),ee()),$[0]&1&&(s=y[14](y[0])&&y[0].system==null),s?j?(j.p(y,$),$[0]&1&&b(j,1)):(j=dt(y),j.c(),b(j,1),j.m(e,i)):j&&(x(),E(j,1,1,()=>{j=null}),ee());let z=c;c=X(y),c===z?~c&&K[c].p(y,$):(o&&(x(),E(K[z],1,1,()=>{K[z]=null}),ee()),~c?(o=K[c],o?o.p(y,$):(o=K[c]=H[c](y),o.c()),b(o,1),o.m(e,a)):o=null),y[0].system!=null?L?(L.p(y,$),$[0]&1&&b(L,1)):(L=gt(y),L.c(),b(L,1),L.m(e,d)):L&&(x(),E(L,1,1,()=>{L=null}),ee()),y[0].attachments!=null?W?(W.p(y,$),$[0]&1&&b(W,1)):(W=kt(y),W.c(),b(W,1),W.m(e,_)):W&&(x(),E(W,1,1,()=>{W=null}),ee()),y[0].embeds!=null?J?(J.p(y,$),$[0]&1&&b(J,1)):(J=vt(y),J.c(),b(J,1),J.m(e,null)):J&&(x(),E(J,1,1,()=>{J=null}),ee()),(!g||$[0]&1&&h!==(h="MESSAGE-"+y[0]._id))&&f(e,"id",h)},i(y){if(!g){for(let $=0;$<P.length;$+=1)b(w[$]);b(I),b(j),b(o),b(L),b(W),b(J),g=!0}},o(y){w=w.filter(Boolean);for(let $=0;$<w.length;$+=1)E(w[$]);E(I),E(j),E(o),E(L),E(W),E(J),g=!1},d(y){y&&u(e),Ee(w,y),I&&I.d(),j&&j.d(),~c&&K[c].d(),L&&L.d(),W&&W.d(),J&&J.d()}}}function zn(r,e,l){let n,t,s,i,c,o,a;Ue.extend(cl);let{message:d}=e,{messageIndex:_}=e,h,g,P;const w=te(De);fe(r,w,D=>l(5,a=D));const M=te(Ce),I=te(Lt);fe(r,I,D=>l(16,s=D));const j=te(Ke),H=te(ze);fe(r,H,D=>l(17,i=D));const K=te(qt);fe(r,K,D=>l(21,c=D));const X=te(He);fe(r,X,D=>l(22,o=D));const L=[{src:Ml,name:"Reply",onclick(){o!=null&&o.some(D=>D.message._id==d._id)||X==null||X.update(D=>(D.push({message:d,mention:!0}),D))}},{src:sl,name:"Edit",showIf:D=>{var Z;return D.author==((Z=M.user)==null?void 0:Z._id)},onclick:D=>l(3,h=h==null?D.content??"":void 0)},{src:$l,name:"Delete",showIf:D=>{var Z;return D.author==((Z=M.user)==null?void 0:Z._id)},onclick:D=>M.api.deleteMessage(D.channel,D._id)}];async function W(D,Z){l(2,P=c==null?void 0:c.find(R=>R._id.server==D&&R._id.user==Z))}async function J(){const D=await M.api.editMessage(d.channel,d._id,{content:h});j==null||j.update(Z=>(Z[Z.findIndex(R=>R._id==d._id)]=D,Z)),l(3,h=void 0)}function y(D){var ye;if(j==null)return!0;const R=xt(j)[_-1];return R==null?!0:D.author!=R.author||D.masquerade!=R.masquerade||qe(D._id)-qe(R._id)>=7*60*1e3||(((ye=D.replies)==null?void 0:ye.length)??0)!=0}const $=D=>D(d);function z(D){h=D,l(3,h)}const N=D=>{D.detail.key=="Escape"&&l(3,h=void 0)};return r.$$set=D=>{"message"in D&&l(0,d=D.message),"messageIndex"in D&&l(15,_=D.messageIndex)},r.$$.update=()=>{r.$$.dirty[0]&131073&&Le(M.api,i??M.api.cache.users,d.author).then(D=>l(1,g=D)),r.$$.dirty[0]&65537&&(s==null||W(s,d.author)),r.$$.dirty[0]&7&&l(4,n=g==null?"Unknown User":pe(g,P,d)),r.$$.dirty[0]&1&&l(6,t=qe(d._id))},[d,g,P,h,n,a,t,w,I,H,K,X,L,J,y,_,s,i,$,z,N]}class Hn extends me{constructor(e){super(),de(this,e,zn,Kn,he,{message:0,messageIndex:15},null,[-1,-1])}}function Wn(r){let e,l;return{c(){e=be("svg"),l=be("path"),this.h()},l(n){e=ve(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var t=S(e);l=ve(t,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(l).forEach(u),t.forEach(u),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"d","M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"width","24px"),f(e,"height","24px")},m(n,t){k(n,e,t),v(e,l)},p:m,i:m,o:m,d(n){n&&u(e)}}}class Kt extends me{constructor(e){super(),de(this,e,null,Wn,he,{})}}function Xn(r){let e,l;return{c(){e=be("svg"),l=be("path"),this.h()},l(n){e=ve(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var t=S(e);l=ve(t,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(l).forEach(u),t.forEach(u),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"d","M15.182 15.182a4.5 4.5 0 01-6.364 0M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"width","24px"),f(e,"height","24px")},m(n,t){k(n,e,t),v(e,l)},p:m,i:m,o:m,d(n){n&&u(e)}}}class Jn extends me{constructor(e){super(),de(this,e,null,Xn,he,{})}}function Qn(r){let e,l;return{c(){e=be("svg"),l=be("path"),this.h()},l(n){e=ve(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var t=S(e);l=ve(t,"path",{"stroke-linecap":!0,d:!0}),S(l).forEach(u),t.forEach(u),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"d","M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"width","24px"),f(e,"height","24px")},m(n,t){k(n,e,t),v(e,l)},p:m,i:m,o:m,d(n){n&&u(e)}}}class Yn extends me{constructor(e){super(),de(this,e,null,Qn,he,{})}}function yt(r){const e=pe(r[5]);r[6]=e}function Zn(r){let e,l,n;return e=new Ae({}),{c(){le(e.$$.fragment),l=O(`
				<UnknownUser>`)},l(t){ie(e.$$.fragment,t),l=B(t,`
				<UnknownUser>`)},m(t,s){ne(e,t,s),k(t,l,s),n=!0},p:m,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){t&&u(l),re(e,t)}}}function xn(r){yt(r);let e,l,n,t,s=r[6]+"",i;return{c(){e=C("img"),t=q(),i=O(s),this.h()},l(c){e=T(c,"IMG",{class:!0,src:!0,alt:!0}),t=F(c),i=B(c,s),this.h()},h(){f(e,"class","cover svelte-zbyf5q"),Y(e.src,l=ke(r[5]))||f(e,"src",l),f(e,"alt",n=r[6])},m(c,o){k(c,e,o),k(c,t,o),k(c,i,o)},p(c,o){yt(c),o&1&&!Y(e.src,l=ke(c[5]))&&f(e,"src",l),o&1&&n!==(n=c[6])&&f(e,"alt",n),o&1&&s!==(s=c[6]+"")&&se(i,s)},i:m,o:m,d(c){c&&(u(e),u(t),u(i))}}}function er(r){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function $t(r){let e,l=r[0].message.content+"",n;return{c(){e=C("p"),n=O(l),this.h()},l(t){e=T(t,"P",{class:!0});var s=S(e);n=B(s,l),s.forEach(u),this.h()},h(){f(e,"class","message-content svelte-zbyf5q")},m(t,s){k(t,e,s),v(e,n)},p(t,s){s&1&&l!==(l=t[0].message.content+"")&&se(n,l)},d(t){t&&u(e)}}}function tr(r){let e,l,n,t,s,i,c,o,a,d,_,h,g,P,w=r[0].mention?"ON":"OFF",M,I,j,H,K,X,L,W,J,y={ctx:r,current:null,token:null,hasCatch:!0,pending:er,then:xn,catch:Zn,value:5,blocks:[,,,]};ae(s=r[2].api.fetchUser(r[0].message.author),y);let $=r[0].message.content&&$t(r);return g=new Yn({}),X=new Kt({}),{c(){e=C("div"),l=C("p"),n=O(`Replying to
		`),t=C("strong"),y.block.c(),i=q(),$&&$.c(),c=q(),o=C("div"),a=q(),d=C("label"),_=C("input"),h=q(),le(g.$$.fragment),P=q(),M=O(w),j=q(),H=C("div"),K=C("button"),le(X.$$.fragment),this.h()},l(z){e=T(z,"DIV",{class:!0});var N=S(e);l=T(N,"P",{});var D=S(l);n=B(D,`Replying to
		`),t=T(D,"STRONG",{});var Z=S(t);y.block.l(Z),Z.forEach(u),D.forEach(u),i=F(N),$&&$.l(N),c=F(N),o=T(N,"DIV",{class:!0}),S(o).forEach(u),a=F(N),d=T(N,"LABEL",{class:!0,"aria-label":!0});var R=S(d);_=T(R,"INPUT",{id:!0,style:!0,type:!0}),h=F(R),ie(g.$$.fragment,R),P=F(R),M=B(R,w),R.forEach(u),j=F(N),H=T(N,"DIV",{});var ye=S(H);K=T(ye,"BUTTON",{});var oe=S(K);ie(X.$$.fragment,oe),oe.forEach(u),ye.forEach(u),N.forEach(u),this.h()},h(){f(o,"class","flex-divider"),f(_,"id","mention"),Be(_,"display","none"),f(_,"type","checkbox"),f(d,"class","mention-button svelte-zbyf5q"),f(d,"aria-label",I="Mention author "+(r[0].mention?"ON":"OFF")),f(e,"class","container svelte-zbyf5q")},m(z,N){k(z,e,N),v(e,l),v(l,n),v(l,t),y.block.m(t,y.anchor=null),y.mount=()=>t,y.anchor=null,v(e,i),$&&$.m(e,null),v(e,c),v(e,o),v(e,a),v(e,d),v(d,_),_.checked=r[0].mention,v(d,h),ne(g,d,null),v(d,P),v(d,M),v(e,j),v(e,H),v(H,K),ne(X,K,null),L=!0,W||(J=[ue(_,"change",r[3]),ue(K,"click",r[4])],W=!0)},p(z,[N]){r=z,y.ctx=r,N&1&&s!==(s=r[2].api.fetchUser(r[0].message.author))&&ae(s,y)||we(y,r,N),r[0].message.content?$?$.p(r,N):($=$t(r),$.c(),$.m(e,c)):$&&($.d(1),$=null),N&1&&(_.checked=r[0].mention),(!L||N&1)&&w!==(w=r[0].mention?"ON":"OFF")&&se(M,w),(!L||N&1&&I!==(I="Mention author "+(r[0].mention?"ON":"OFF")))&&f(d,"aria-label",I)},i(z){L||(b(y.block),b(g.$$.fragment,z),b(X.$$.fragment,z),L=!0)},o(z){for(let N=0;N<3;N+=1){const D=y.blocks[N];E(D)}E(g.$$.fragment,z),E(X.$$.fragment,z),L=!1},d(z){z&&u(e),y.block.d(),y.token=null,y=null,$&&$.d(),re(g),re(X),W=!1,je(J)}}}function lr(r,e,l){let{reply:n}=e;const t=te(Ce),s=te(He);function i(){n.mention=this.checked,l(0,n)}const c=()=>s.update(o=>(o=o.filter(a=>a.message._id!=n.message._id),o));return r.$$set=o=>{"reply"in o&&l(0,n=o.reply)},[n,s,t,i,c]}class nr extends me{constructor(e){super(),de(this,e,lr,tr,he,{reply:0})}}function Et(r,e,l){const n=r.slice();return n[8]=e[l],n}function Mt(r){let e,l,n,t,s,i,c;function o(){return r[4](r[8])}return{c(){e=C("button"),l=C("img"),s=q(),this.h()},l(a){e=T(a,"BUTTON",{class:!0});var d=S(e);l=T(d,"IMG",{width:!0,height:!0,src:!0,alt:!0}),s=F(d),d.forEach(u),this.h()},h(){f(l,"width","28px"),f(l,"height","28px"),Y(l.src,n="https://autumn.revolt.chat/emojis/"+r[8]._id)||f(l,"src",n),f(l,"alt",t=r[8].name),f(e,"class","svelte-uptso2")},m(a,d){k(a,e,d),v(e,l),v(e,s),i||(c=ue(e,"click",o),i=!0)},p(a,d){r=a,d&2&&!Y(l.src,n="https://autumn.revolt.chat/emojis/"+r[8]._id)&&f(l,"src",n),d&2&&t!==(t=r[8].name)&&f(l,"alt",t)},d(a){a&&u(e),i=!1,c()}}}function rr(r){let e,l,n,t,s,i,c=_e(r[1]),o=[];for(let a=0;a<c.length;a+=1)o[a]=Mt(Et(r,c,a));return{c(){e=C("div"),l=C("input"),n=q(),t=C("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=T(a,"DIV",{class:!0});var d=S(e);l=T(d,"INPUT",{type:!0,placeholder:!0,class:!0}),n=F(d),t=T(d,"DIV",{});var _=S(t);for(let h=0;h<o.length;h+=1)o[h].l(_);_.forEach(u),d.forEach(u),this.h()},h(){f(l,"type","text"),f(l,"placeholder","Search for emojis"),f(l,"class","svelte-uptso2"),f(e,"class","emoji-container svelte-uptso2")},m(a,d){k(a,e,d),v(e,l),Pe(l,r[0]),v(e,n),v(e,t);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(t,null);s||(i=ue(l,"input",r[3]),s=!0)},p(a,[d]){if(d&1&&l.value!==a[0]&&Pe(l,a[0]),d&6){c=_e(a[1]);let _;for(_=0;_<c.length;_+=1){const h=Et(a,c,_);o[_]?o[_].p(h,d):(o[_]=Mt(h),o[_].c(),o[_].m(t,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=c.length}},i:m,o:m,d(a){a&&u(e),Ee(o,a),s=!1,i()}}}function It(r){const e={};for(const l of r){const n=l.toUpperCase();if(n in e){e[n]++;continue}e[n]=1}return e}function ir(r,e,l){let n;const t=te(Ce),s=te(Ft);let i="",c=Array.from(t.api.cache.emojis.values());function o(_){if(i.length==0)return _.length;const h=It(_);let g=0;for(const[P,w]of Object.entries(h)){const M=n[P];if(M!=null){if(M>w){g=0;continue}g+=Math.min(M,w)}}return g/_.length}function a(){i=this.value,l(0,i)}const d=_=>s.update(h=>h+`:${_._id}:`);return r.$$.update=()=>{r.$$.dirty&1&&(n=It(i)),r.$$.dirty&1&&(i.length==0?l(1,c=Array.from(t.api.cache.emojis.values())):l(1,c=Array.from(t.api.cache.emojis.values()).flatMap(_=>{const h=o(_.name);return h==0?[]:[[h,_]]}).sort(([_],[h])=>_-h).map(([,_])=>_).reverse()))},[i,c,s,a,d]}class sr extends me{constructor(e){super(),de(this,e,ir,rr,he,{})}}function Ct(r,e,l){const n=r.slice();return n[35]=e[l],n}function Tt(r,e,l){const n=r.slice();return n[38]=e[l],n}function Nt(r,e,l){const n=r.slice();return n[41]=e[l],n[43]=l,n}function or(r){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function cr(r){let e,l,n=_e(r[8]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Ut(Nt(r,n,i));const s=i=>E(t[i],1,1,()=>{t[i]=null});return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=G()},l(i){for(let c=0;c<t.length;c+=1)t[c].l(i);e=G()},m(i,c){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(i,c);k(i,e,c),l=!0},p(i,c){if(c[0]&256){n=_e(i[8]);let o;for(o=0;o<n.length;o+=1){const a=Nt(i,n,o);t[o]?(t[o].p(a,c),b(t[o],1)):(t[o]=Ut(a),t[o].c(),b(t[o],1),t[o].m(e.parentNode,e))}for(x(),o=n.length;o<t.length;o+=1)s(o);ee()}},i(i){if(!l){for(let c=0;c<n.length;c+=1)b(t[c]);l=!0}},o(i){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)E(t[c]);l=!1},d(i){i&&u(e),Ee(t,i)}}}function Ut(r){let e,l;return e=new Hn({props:{message:r[41],messageIndex:r[43]}}),{c(){le(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,t){ne(e,n,t),l=!0},p(n,t){const s={};t[0]&256&&(s.message=n[41]),e.$set(s)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){re(e,n)}}}function ar(r){let e;return{c(){e=O("Loading...")},l(l){e=B(l,"Loading...")},m(l,n){k(l,e,n)},p:m,i:m,o:m,d(l){l&&u(e)}}}function jt(r){let e,l,n,t=Array.from(r[0]).map(Bt).join(", ")+"",s,i,c,o,a,d,_,h,g;return d=new Kt({}),{c(){e=C("div"),l=C("p"),n=O(`Uploading
				`),s=O(t),i=q(),c=C("div"),o=q(),a=C("button"),le(d.$$.fragment),this.h()},l(P){e=T(P,"DIV",{class:!0});var w=S(e);l=T(w,"P",{});var M=S(l);n=B(M,`Uploading
				`),s=B(M,t),M.forEach(u),i=F(w),c=T(w,"DIV",{class:!0}),S(c).forEach(u),o=F(w),a=T(w,"BUTTON",{});var I=S(a);ie(d.$$.fragment,I),I.forEach(u),w.forEach(u),this.h()},h(){f(c,"class","flex-divider"),f(e,"class","flex-container")},m(P,w){k(P,e,w),v(e,l),v(l,n),v(l,s),v(e,i),v(e,c),v(e,o),v(e,a),ne(d,a,null),_=!0,h||(g=ue(a,"click",r[23]),h=!0)},p(P,w){(!_||w[0]&1)&&t!==(t=Array.from(P[0]).map(Bt).join(", ")+"")&&se(s,t)},i(P){_||(b(d.$$.fragment,P),_=!0)},o(P){E(d.$$.fragment,P),_=!1},d(P){P&&u(e),re(d),h=!1,g()}}}function St(r){let e,l;return e=new nr({props:{reply:r[38]}}),{c(){le(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,t){ne(e,n,t),l=!0},p(n,t){const s={};t[0]&64&&(s.reply=n[38]),e.$set(s)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){re(e,n)}}}function fr(r){let e,l,n;return{c(){e=C("img"),this.h()},l(t){e=T(t,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),this.h()},h(){f(e,"class","cover"),Y(e.src,l=ke(r[35]))||f(e,"src",l),f(e,"width","16px"),f(e,"height","16px"),f(e,"alt",n=pe(r[35]))},m(t,s){k(t,e,s)},p(t,s){s[0]&16&&!Y(e.src,l=ke(t[35]))&&f(e,"src",l),s[0]&16&&n!==(n=pe(t[35]))&&f(e,"alt",n)},i:m,o:m,d(t){t&&u(e)}}}function ur(r){let e,l;return e=new Ae({}),{c(){le(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,t){ne(e,n,t),l=!0},p:m,i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){re(e,n)}}}function Dt(r){let e,l,n,t;const s=[ur,fr],i=[];function c(o,a){return o[3]["jolt:low-data-mode"]?0:1}return e=c(r),l=i[e]=s[e](r),{c(){l.c(),n=G()},l(o){l.l(o),n=G()},m(o,a){i[e].m(o,a),k(o,n,a),t=!0},p(o,a){let d=e;e=c(o),e===d?i[e].p(o,a):(x(),E(i[d],1,1,()=>{i[d]=null}),ee(),l=i[e],l?l.p(o,a):(l=i[e]=s[e](o),l.c()),b(l,1),l.m(n.parentNode,n))},i(o){t||(b(l),t=!0)},o(o){E(l),t=!1},d(o){o&&u(n),i[e].d(o)}}}function At(r){let e=r[17](r[4])+"",l;return{c(){l=O(e)},l(n){l=B(n,e)},m(n,t){k(n,l,t)},p(n,t){t[0]&16&&e!==(e=n[17](n[4])+"")&&se(l,e)},d(n){n&&u(l)}}}function Ot(r){let e,l,n;return l=new sr({}),{c(){e=C("div"),le(l.$$.fragment),this.h()},l(t){e=T(t,"DIV",{class:!0});var s=S(e);ie(l.$$.fragment,s),s.forEach(u),this.h()},h(){f(e,"class","emoji-menu svelte-11kuk8h")},m(t,s){k(t,e,s),ne(l,e,null),n=!0},i(t){n||(b(l.$$.fragment,t),n=!0)},o(t){E(l.$$.fragment,t),n=!1},d(t){t&&u(e),re(l)}}}function _r(r){let e,l,n,t,s,i,c,o,a,d,_,h,g,P,w,M,I,j,H,K,X,L,W,J,y={ctx:r,current:null,token:null,hasCatch:!1,pending:ar,then:cr,catch:or,blocks:[,,,]};ae(n=r[2],y);let $=r[0]!=null&&r[0].length!=0&&jt(r),z=_e(r[6]),N=[];for(let V=0;V<z.length;V+=1)N[V]=St(Tt(r,z,V));const D=V=>E(N[V],1,1,()=>{N[V]=null});let Z=_e(r[4]),R=[];for(let V=0;V<Z.length;V+=1)R[V]=Dt(Ct(r,Z,V));const ye=V=>E(R[V],1,1,()=>{R[V]=null});let oe=r[4].length!=0&&At(r),ce=r[9]&&Ot();g=new ol({});function Ve(V){r[24](V)}let Oe={sendTypingEvents:r[3]["jolt:send-typing-indicators"],placeholder:"Send message in "+r[5]};return r[7]!==void 0&&(Oe.value=r[7]),w=new Rt({props:Oe}),Se.push(()=>Re(w,"value",Ve)),X=new Jn({}),{c(){e=C("main"),l=C("div"),y.block.c(),t=q(),$&&$.c(),s=q();for(let V=0;V<N.length;V+=1)N[V].c();i=q(),c=C("div");for(let V=0;V<R.length;V+=1)R[V].c();o=q(),oe&&oe.c(),a=q(),ce&&ce.c(),d=q(),_=C("form"),h=C("button"),le(g.$$.fragment),P=q(),le(w.$$.fragment),I=q(),j=C("div"),H=q(),K=C("button"),le(X.$$.fragment),this.h()},l(V){e=T(V,"MAIN",{class:!0});var p=S(e);l=T(p,"DIV",{class:!0});var A=S(l);y.block.l(A),A.forEach(u),t=F(p),$&&$.l(p),s=F(p);for(let $e=0;$e<N.length;$e+=1)N[$e].l(p);i=F(p),c=T(p,"DIV",{class:!0});var U=S(c);for(let $e=0;$e<R.length;$e+=1)R[$e].l(U);o=F(U),oe&&oe.l(U),U.forEach(u),a=F(p),ce&&ce.l(p),d=F(p),_=T(p,"FORM",{class:!0,id:!0});var Q=S(_);h=T(Q,"BUTTON",{class:!0});var ge=S(h);ie(g.$$.fragment,ge),ge.forEach(u),P=F(Q),ie(w.$$.fragment,Q),I=F(Q),j=T(Q,"DIV",{class:!0}),S(j).forEach(u),H=F(Q),K=T(Q,"BUTTON",{type:!0,class:!0});var Me=S(K);ie(X.$$.fragment,Me),Me.forEach(u),Q.forEach(u),p.forEach(u),this.h()},h(){f(l,"class","messages-list svelte-11kuk8h"),f(c,"class","typing-indicator svelte-11kuk8h"),Je(c,"transparent-color",r[4].length==0),f(h,"class","default-button"),f(j,"class","flex-divider"),f(K,"type","button"),f(K,"class","default-button"),f(_,"class","message-form"),f(_,"id","send-message-form"),f(e,"class","main-content-container svelte-11kuk8h")},m(V,p){k(V,e,p),v(e,l),y.block.m(l,y.anchor=null),y.mount=()=>l,y.anchor=null,r[22](l),v(e,t),$&&$.m(e,null),v(e,s);for(let A=0;A<N.length;A+=1)N[A]&&N[A].m(e,null);v(e,i),v(e,c);for(let A=0;A<R.length;A+=1)R[A]&&R[A].m(c,null);v(c,o),oe&&oe.m(c,null),v(e,a),ce&&ce.m(e,null),v(e,d),v(e,_),v(_,h),ne(g,h,null),v(_,P),ne(w,_,null),v(_,I),v(_,j),v(_,H),v(_,K),ne(X,K,null),L=!0,W||(J=[ue(h,"click",r[16]),ue(K,"click",r[25]),ue(_,"submit",r[15])],W=!0)},p(V,p){if(r=V,y.ctx=r,p[0]&4&&n!==(n=r[2])&&ae(n,y)||we(y,r,p),r[0]!=null&&r[0].length!=0?$?($.p(r,p),p[0]&1&&b($,1)):($=jt(r),$.c(),b($,1),$.m(e,s)):$&&(x(),E($,1,1,()=>{$=null}),ee()),p[0]&64){z=_e(r[6]);let U;for(U=0;U<z.length;U+=1){const Q=Tt(r,z,U);N[U]?(N[U].p(Q,p),b(N[U],1)):(N[U]=St(Q),N[U].c(),b(N[U],1),N[U].m(e,i))}for(x(),U=z.length;U<N.length;U+=1)D(U);ee()}if(p[0]&24){Z=_e(r[4]);let U;for(U=0;U<Z.length;U+=1){const Q=Ct(r,Z,U);R[U]?(R[U].p(Q,p),b(R[U],1)):(R[U]=Dt(Q),R[U].c(),b(R[U],1),R[U].m(c,o))}for(x(),U=Z.length;U<R.length;U+=1)ye(U);ee()}r[4].length!=0?oe?oe.p(r,p):(oe=At(r),oe.c(),oe.m(c,null)):oe&&(oe.d(1),oe=null),(!L||p[0]&16)&&Je(c,"transparent-color",r[4].length==0),r[9]?ce?p[0]&512&&b(ce,1):(ce=Ot(),ce.c(),b(ce,1),ce.m(e,d)):ce&&(x(),E(ce,1,1,()=>{ce=null}),ee());const A={};p[0]&8&&(A.sendTypingEvents=r[3]["jolt:send-typing-indicators"]),p[0]&32&&(A.placeholder="Send message in "+r[5]),!M&&p[0]&128&&(M=!0,A.value=r[7],Ge(()=>M=!1)),w.$set(A)},i(V){if(!L){b(y.block),b($);for(let p=0;p<z.length;p+=1)b(N[p]);for(let p=0;p<Z.length;p+=1)b(R[p]);b(ce),b(g.$$.fragment,V),b(w.$$.fragment,V),b(X.$$.fragment,V),L=!0}},o(V){for(let p=0;p<3;p+=1){const A=y.blocks[p];E(A)}E($),N=N.filter(Boolean);for(let p=0;p<N.length;p+=1)E(N[p]);R=R.filter(Boolean);for(let p=0;p<R.length;p+=1)E(R[p]);E(ce),E(g.$$.fragment,V),E(w.$$.fragment,V),E(X.$$.fragment,V),L=!1},d(V){V&&u(e),y.block.d(),y.token=null,y=null,r[22](null),$&&$.d(),Ee(N,V),Ee(R,V),oe&&oe.d(),ce&&ce.d(),re(g),re(w),re(X),W=!1,je(J)}}}const Bt=r=>r.name;function hr(r,e,l){let n,t,s,i,c,o;fe(r,al,p=>l(21,n=p));let{channel:a}=e,{replies:d=[]}=e,{messageInput:_=""}=e;const h=Te(_);fe(r,h,p=>l(7,s=p)),Ie(Ft,h);let{files:g=[]}=e;const P=te(De);fe(r,P,p=>l(3,i=p));const w=te(Ce),M=Te(new Array);fe(r,M,p=>l(8,c=p));const I=Te(new Array),j=Te(new Array),H=Te(!1);fe(r,H,p=>l(9,o=p));const K=Te(d);fe(r,K,p=>l(6,t=p)),Ie(Ke,M),Ie(qt,I),Ie(ze,j),Ie(He,K),Ie(nl,H),Ie(Vt,a);let X,L=[],W="Unknown Channel",J=Promise.resolve();async function y(p){if(!p){w.removeAllListeners("ChannelStartTyping"),w.removeAllListeners("ChannelStopTyping");return}w.on("ChannelStartTyping",async({id:A,user:U})=>{var Q;if(!(U==((Q=w.user)==null?void 0:Q._id)||A!=a._id)){for(const{_id:ge}of L)if(U==ge)return;l(4,L[L.length]=await w.api.fetchUser(U),L)}}),w.on("ChannelStopTyping",({id:A,user:U})=>{A==a._id&&l(4,L=L.filter(Q=>Q._id!=U))})}async function $(){const p=await Promise.all(g.map(A=>w.autumn.uploadFile(A)));l(0,g=[]),await w.api.sendMessage(a._id,{content:s.trim(),replies:t.map(({message:{_id:A},mention:U})=>({id:A,mention:U})),attachments:p}),K.set([]),h.set("")}function z(p){if(p.channel!=a._id)return;const A=X.offsetHeight+X.scrollTop>X.scrollHeight-20;document.hasFocus()&&A&&w.api.ackMessage(a._id,p._id),M.update(U=>(U.push(p),U)),A&&Qe().then(()=>X.scrollTo(0,X.scrollHeight))}function N({id:p,channel:A}){A==a._id&&M.update(U=>U.filter(Q=>Q._id!=p))}function D({id:p,channel:A,data:U}){A==a._id&&M.update(Q=>{const ge=Q.findIndex($e=>$e._id==p),Me=Q[ge];return U.content!=null&&(Me.content=U.content),U.embeds!=null&&(Me.embeds=U.embeds),Me.edited=U.edited,Q[ge]=Me,Q})}function Z(p){var A;if(((A=p.clipboardData)==null?void 0:A.files)!=null&&p.clipboardData.files.length!=0){p.preventDefault();const U=Array.from(p.clipboardData.files);l(0,g=(g==null?void 0:g.concat(U))??U)}}function R(){const p=document.createElement("input");p.type="file",p.onchange=A=>{const U=A;U.target.files!=null&&l(0,g=g.concat(Array.from(U.target.files)))},p.click()}el(()=>{w.on("Message",z),w.on("MessageDelete",N),w.on("MessageUpdate",D),document.addEventListener("paste",Z)}),tl(()=>{w.removeListener("Message",z),w.removeListener("MessageDelete",N),w.removeListener("MessageUpdate",D),document.removeEventListener("paste",Z)});async function ye(p){var A;if(p.channel_type=="TextChannel"||p.channel_type=="Group"){l(5,W=`#${p.name}`);return}if(p.channel_type=="SavedMessages"){l(5,W="Saved Notes");return}try{l(5,W=`@${pe(await w.api.fetchUser(p.recipients[0]==((A=w.user)==null?void 0:A._id)?p.recipients[1]:p.recipients[0]))}`)}catch{l(5,W="Unknown Channel")}}function oe(p){if(p.length==0)throw new Error("function called with an array of length 0");const A=p.map(U=>pe(U));return A.length==1?`${A[0]} is typing...`:A.length>=5?"Several users are typing...":`${A.slice(0,A.length-1).join(", ")} and ${A[A.length-1]} are typing...`}function ce(p){Se[p?"unshift":"push"](()=>{X=p,l(1,X)})}const Ve=()=>l(0,g=[]);function Oe(p){s=p,h.set(s)}const V=()=>H.update(p=>!p);return r.$$set=p=>{"channel"in p&&l(18,a=p.channel),"replies"in p&&l(19,d=p.replies),"messageInput"in p&&l(20,_=p.messageInput),"files"in p&&l(0,g=p.files)},r.$$.update=()=>{if(r.$$.dirty[0]&262150){const p=te(rl);l(2,J=w.api.queryMessages(a._id,{sort:"Latest",include_users:!0,limit:100,nearby:p}).then(A=>{if(Array.isArray(A)){let U;p==null?U=A.reverse():U=A.sort((Q,ge)=>Q._id.localeCompare(ge._id)),M.set(U)}else{let U;p==null?U=A.messages.reverse():U=A.messages.sort((Q,ge)=>Q._id.localeCompare(ge._id)),M.set(U),j.set(A.users),I.set(A.members??[])}})),K.set([]),l(4,L=[]),J.then(()=>{Qe().then(()=>X.scrollTo(0,X.scrollHeight))})}if(r.$$.dirty[0]&8&&y(i["jolt:receive-typing-indicators"]),r.$$.dirty[0]&262144&&ye(a),r.$$.dirty[0]&2097152){const p=document.getElementById(`MESSAGE-${n.url.hash.slice(1)}`);p==null||p.animate([{backgroundColor:"var(--mention)"},{backgroundColor:"var(--mention)",offset:.6},{backgroundColor:"transparent"}],{duration:3e3,iterations:1})}},[g,X,J,i,L,W,t,s,c,o,h,P,M,H,K,$,R,oe,a,d,_,n,ce,Ve,Oe,V]}class Sr extends me{constructor(e){super(),de(this,e,hr,_r,he,{channel:18,replies:19,messageInput:20,files:0},null,[-1,-1])}}export{Sr as T};
