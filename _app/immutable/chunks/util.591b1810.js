import{l as s,m as U,p as d,q as b,v as e}from"./scheduler.9b2bc230.js";import{p as w,t as y,b as A,d as D}from"./index.6c81ac7e.js";import{$ as k}from"./runtime.esm.a3f7b725.js";function E(a,t){const r=t.token={};function c(n,l,_,h){if(t.token!==r)return;t.resolved=h;let u=t.ctx;_!==void 0&&(u=u.slice(),u[_]=h);const o=n&&(t.current=n)(u);let p=!1;t.block&&(t.blocks?t.blocks.forEach((v,i)=>{i!==l&&v&&(w(),y(v,1,1,()=>{t.blocks[i]===v&&(t.blocks[i]=null)}),A())}):t.block.d(1),o.c(),D(o,1),o.m(t.mount(),t.anchor),p=!0),t.block=o,t.blocks&&(t.blocks[l]=o),p&&b()}if(s(a)){const n=U();if(a.then(l=>{d(n),c(t.then,1,t.value,l),d(null)},l=>{if(d(n),c(t.catch,2,t.error,l),d(null),!t.hasCatch)throw l}),t.current!==t.pending)return c(t.pending,0),!0}else{if(t.current!==t.then)return c(t.then,1,t.value,a),!0;t.resolved=a}}function N(a,t,r){const c=t.slice(),{resolved:n}=a;a.current===a.then&&(c[a.value]=n),a.current===a.catch&&(c[a.error]=n),a.block.p(c,r)}const f="https://autumn.revolt.chat",j="https://api.revolt.chat",R={appearance:{},ordering:{},"jolt:low-data-mode":!1,"jolt:compact-mode":!1,"jolt:receive-typing-indicators":!0,"jolt:send-typing-indicators":!0};function $(a){return`${f}/${a.tag}/${a._id}?max_side=256`}function q(a){return`${j}/users/${a}/default_avatar`}function I(a,t,r){var c;return(r==null?void 0:r.system)==null?((c=r==null?void 0:r.masquerade)==null?void 0:c.name)??(t==null?void 0:t.nickname)??(a==null?void 0:a.display_name)??(a==null?void 0:a.username)??`<${e(k)("user.unknown")}>`:e(k)("message.system")}function S(a,t,r){var c,n;return(r==null?void 0:r.system)!=null?"/user.svg":((c=r==null?void 0:r.webhook)==null?void 0:c.avatar)!=null?r.webhook.avatar:((n=r==null?void 0:r.masquerade)==null?void 0:n.avatar)!=null?r.masquerade.avatar:(t==null?void 0:t.avatar)!=null?`${$(t.avatar)}`:(a==null?void 0:a.avatar)==null?a==null?"/user.svg":q(a._id):`${$(a==null?void 0:a.avatar)}`}export{R as D,$ as a,I as b,S as g,E as h,N as u};
