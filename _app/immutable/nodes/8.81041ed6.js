import{s as x,n as g,c as F}from"../chunks/scheduler.a21a5cad.js";import{S as ee,i as te,g as D,r as q,s as T,m as C,h as E,j as N,u as J,c as V,n as S,f as m,k as M,a as $,v as L,x as h,o as K,d as _,t as b,w as X,e as v,l as ie,b as z,p as B}from"../chunks/index.4419476b.js";import{p as ae}from"../chunks/stores.ef339b2e.js";import{C as se}from"../chunks/index.e07f1f12.js";import{h as G,u as le}from"../chunks/await_block.7ed97119.js";import{g as j,c as ne,b as oe}from"../chunks/context.898bb4a8.js";import{g as H,a as O,b as re}from"../chunks/util.c62b600d.js";import{U as fe}from"../chunks/UserProfilePicture.f3e5cd2d.js";import{r as ce}from"../chunks/index.113a7bcf.js";import{X as ue}from"../chunks/runtime.esm.252c27a7.js";import{g as pe}from"../chunks/chunk-NMUKSDLG.3f77d6f4.js";function me(a){return{c:g,l:g,m:g,p:g,d:g}}function de(a){var t;let n,r=((t=a[2])==null?void 0:t.content)!=null&&Q(a);return{c(){r&&r.c(),n=v()},l(e){r&&r.l(e),n=v()},m(e,i){r&&r.m(e,i),$(e,n,i)},p(e,i){var s;((s=e[2])==null?void 0:s.content)!=null?r?r.p(e,i):(r=Q(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(e){e&&m(n),r&&r.d(e)}}}function Q(a){let n,r=a[2].content+"",t;return{c(){n=D("p"),t=C(r),this.h()},l(e){n=E(e,"P",{style:!0,class:!0});var i=N(n);t=S(i,r),i.forEach(m),this.h()},h(){ie(n,"overflow-wrap","break-word"),M(n,"class","whitespace-pre-wrap")},m(e,i){$(e,n,i),h(n,t)},p(e,i){i&1&&r!==(r=e[2].content+"")&&K(t,r)},d(e){e&&m(n)}}}function _e(a){return{c:g,l:g,m:g,p:g,d:g}}function he(a){let n,r,t,e,i,s,l,u=a[0].username+"",w,U,o=a[0].discriminator+"",d,R,A,I,k;r=new fe({props:{width:64,height:64,src:H(a[0]),name:a[1]}});let p={ctx:a,current:null,token:null,hasCatch:!1,pending:_e,then:de,catch:me,value:2};return G(A=a[3].api.fetchUserProfile(a[0]._id),p),{c(){n=D("div"),q(r.$$.fragment),t=T(),e=D("p"),i=C(a[1]),s=T(),l=D("p"),w=C(u),U=C("#"),d=C(o),R=T(),p.block.c(),this.h()},l(c){n=E(c,"DIV",{style:!0});var f=N(n);J(r.$$.fragment,f),t=V(f),e=E(f,"P",{});var P=N(e);i=S(P,a[1]),P.forEach(m),s=V(f),l=E(f,"P",{class:!0});var y=N(l);w=S(y,u),U=S(y,"#"),d=S(y,o),y.forEach(m),R=V(f),p.block.l(f),f.forEach(m),this.h()},h(){var c;M(l,"class","text-sm text-gray-600"),M(n,"style",I=((c=a[2])==null?void 0:c.background)!=null?`background-image: url(${O(a[2].background)})`:void 0)},m(c,f){$(c,n,f),L(r,n,null),h(n,t),h(n,e),h(e,i),h(n,s),h(n,l),h(l,w),h(l,U),h(l,d),h(n,R),p.block.m(n,p.anchor=null),p.mount=()=>n,p.anchor=null,k=!0},p(c,[f]){var y;a=c;const P={};f&1&&(P.src=H(a[0])),f&2&&(P.name=a[1]),r.$set(P),(!k||f&2)&&K(i,a[1]),(!k||f&1)&&u!==(u=a[0].username+"")&&K(w,u),(!k||f&1)&&o!==(o=a[0].discriminator+"")&&K(d,o),p.ctx=a,f&1&&A!==(A=a[3].api.fetchUserProfile(a[0]._id))&&G(A,p)||le(p,a,f),(!k||f&4&&I!==(I=((y=a[2])==null?void 0:y.background)!=null?`background-image: url(${O(a[2].background)})`:void 0))&&M(n,"style",I)},i(c){k||(_(r.$$.fragment,c),k=!0)},o(c){b(r.$$.fragment,c),k=!1},d(c){c&&m(n),X(r),p.block.d(),p.token=null,p=null}}}function ge(a,n,r){let t,{user:e}=n;const i=j(ne);let s;return a.$$set=l=>{"user"in l&&r(0,e=l.user)},a.$$.update=()=>{a.$$.dirty&1&&r(1,t=re(e)),a.$$.dirty&1&&i.api.fetchUserProfile(e._id).then(l=>r(2,s=l))},[e,t,s,i]}class be extends ee{constructor(n){super(),te(this,n,ge,he,x,{user:0})}}function W(a){let n,r,t,e;n=new se({props:{channel:a[0]}});let i=a[0].channel_type!="SavedMessages"&&Y(a);return{c(){q(n.$$.fragment),r=T(),i&&i.c(),t=v()},l(s){J(n.$$.fragment,s),r=V(s),i&&i.l(s),t=v()},m(s,l){L(n,s,l),$(s,r,l),i&&i.m(s,l),$(s,t,l),e=!0},p(s,l){const u={};l&1&&(u.channel=s[0]),n.$set(u),s[0].channel_type!="SavedMessages"?i?(i.p(s,l),l&1&&_(i,1)):(i=Y(s),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(B(),b(i,1,1,()=>{i=null}),z())},i(s){e||(_(n.$$.fragment,s),_(i),e=!0)},o(s){b(n.$$.fragment,s),b(i),e=!1},d(s){s&&(m(r),m(t)),X(n,s),i&&i.d(s)}}}function Y(a){let n,r,t=a[1]!=null&&Z(a);return{c(){t&&t.c(),n=v()},l(e){t&&t.l(e),n=v()},m(e,i){t&&t.m(e,i),$(e,n,i),r=!0},p(e,i){e[1]!=null?t?(t.p(e,i),i&2&&_(t,1)):(t=Z(e),t.c(),_(t,1),t.m(n.parentNode,n)):t&&(B(),b(t,1,1,()=>{t=null}),z())},i(e){r||(_(t),r=!0)},o(e){b(t),r=!1},d(e){e&&m(n),t&&t.d(e)}}}function Z(a){let n,r,t;return r=new be({props:{user:a[1]}}),{c(){n=D("div"),q(r.$$.fragment),this.h()},l(e){n=E(e,"DIV",{class:!0});var i=N(n);J(r.$$.fragment,i),i.forEach(m),this.h()},h(){M(n,"class","members-list-container")},m(e,i){$(e,n,i),L(r,n,null),t=!0},p(e,i){const s={};i&2&&(s.user=e[1]),r.$set(s)},i(e){t||(_(r.$$.fragment,e),t=!0)},o(e){b(r.$$.fragment,e),t=!1},d(e){e&&m(n),X(r)}}}function ke(a){let n,r,t=a[0]!=null&&W(a);return{c(){t&&t.c(),n=v()},l(e){t&&t.l(e),n=v()},m(e,i){t&&t.m(e,i),$(e,n,i),r=!0},p(e,[i]){e[0]!=null?t?(t.p(e,i),i&1&&_(t,1)):(t=W(e),t.c(),_(t,1),t.m(n.parentNode,n)):t&&(B(),b(t,1,1,()=>{t=null}),z())},i(e){r||(_(t),r=!0)},o(e){b(t),r=!1},d(e){e&&m(n),t&&t.d(e)}}}function $e(a,n,r){let t,e,i;F(a,ue,o=>r(3,e=o)),F(a,ae,o=>r(4,i=o));const s=j(ne);j(oe);let l,u;async function w(o){const d=await s.api.fetchChannel(o);if(d.channel_type=="TextChannel"||d.channel_type=="VoiceChannel")throw ce(302,`/servers/${d.server}/channels/${t.id}`);r(0,l=d)}async function U(o){var d;r(1,u=await s.api.fetchUser(o.recipients[0]==((d=s.user)==null?void 0:d._id)?o.recipients[1]:o.recipients[0]))}return a.$$.update=()=>{if(a.$$.dirty&16&&r(2,t=i.params),a.$$.dirty&4&&w(t.id),a.$$.dirty&1&&l!=null&&l.channel_type!="SavedMessages"&&U(l),a.$$.dirty&11){let o="";(l==null?void 0:l.channel_type)=="SavedMessages"?o+=e("channel.notes"):u==null?o+=e("channel.dm.title"):o+=`${e("channel.dm.with")} ${re(u)}`,o+=" - Jolt","__TAURI__"in window?pe.setTitle(o):document.title=o}},[l,u,t,e,i]}class Ae extends ee{constructor(n){super(),te(this,n,$e,ke,x,{})}}export{Ae as component};
