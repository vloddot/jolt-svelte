import{s as G,C as V,D as y,h as O,d,j as c,i as E,z as B,u as F,f as j,g as C,E as oe,e as S,l as q,a as U,m as L,c as A,n as R,I as W,F as Y}from"../chunks/scheduler.d49036d4.js";import{S as H,i as K,a as g,c as D,t as b,g as T,b as P,d as X,m as J,e as Q}from"../chunks/index.90a2ee5d.js";import{e as z}from"../chunks/each.e59479a4.js";import{g as se}from"../chunks/navigation.916a2674.js";import{b as ae}from"../chunks/paths.8ac8206c.js";import{g as ce,c as fe}from"../chunks/context.c1c8751f.js";import{b as ue,g as he}from"../chunks/util.9d7ab3cc.js";import{U as _e}from"../chunks/UserIcon.3bf05d57.js";function pe(o){let e,n;return{c(){e=V("svg"),n=V("path"),this.h()},l(t){e=y(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var l=O(e);n=y(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),O(n).forEach(d),l.forEach(d),this.h()},h(){c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"d","M4.5 12.75l6 6 9-13.5"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"width","24px"),c(e,"height","24px")},m(t,l){E(t,e,l),B(e,n)},p:F,i:F,o:F,d(t){t&&d(e)}}}class me extends H{constructor(e){super(),K(this,e,null,pe,G,{})}}function de(o){let e,n;return{c(){e=V("svg"),n=V("path"),this.h()},l(t){e=y(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var l=O(e);n=y(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),O(n).forEach(d),l.forEach(d),this.h()},h(){c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"d","M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"width","24px"),c(e,"height","24px")},m(t,l){E(t,e,l),B(e,n)},p:F,i:F,o:F,d(t){t&&d(e)}}}class ge extends H{constructor(e){super(),K(this,e,null,de,G,{})}}function ke(o){let e,n;return{c(){e=V("svg"),n=V("path"),this.h()},l(t){e=y(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var l=O(e);n=y(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),O(n).forEach(d),l.forEach(d),this.h()},h(){c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"d","M6 18L18 6M6 6l12 12"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"width","24px"),c(e,"height","24px")},m(t,l){E(t,e,l),B(e,n)},p:F,i:F,o:F,d(t){t&&d(e)}}}class ve extends H{constructor(e){super(),K(this,e,null,ke,G,{})}}function Z(o,e,n){const t=o.slice();return t[6]=e[n].title,t[2]=e[n].list,t}function x(o,e,n){const t=o.slice();t[9]=e[n];const l=ue(t[9]);t[10]=l;const a=he(t[9]);return t[11]=a,t}function ee(o){let e,n=o[6]+"",t,l,a=o[2].length+"",s,i,r,f,I=z(o[2]),_=[];for(let u=0;u<I.length;u+=1)_[u]=ie(x(o,I,u));const N=u=>b(_[u],1,1,()=>{_[u]=null});return{c(){e=j("h1"),t=q(n),l=q(" -- "),s=q(a),i=U();for(let u=0;u<_.length;u+=1)_[u].c();r=S(),this.h()},l(u){e=C(u,"H1",{class:!0});var h=O(e);t=L(h,n),l=L(h," -- "),s=L(h,a),h.forEach(d),i=A(u);for(let p=0;p<_.length;p+=1)_[p].l(u);r=S(),this.h()},h(){c(e,"class","uppercase")},m(u,h){E(u,e,h),B(e,t),B(e,l),B(e,s),E(u,i,h);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(u,h);E(u,r,h),f=!0},p(u,h){if((!f||h&1)&&n!==(n=u[6]+"")&&R(t,n),(!f||h&1)&&a!==(a=u[2].length+"")&&R(s,a),h&3){I=z(u[2]);let p;for(p=0;p<I.length;p+=1){const k=x(u,I,p);_[p]?(_[p].p(k,h),g(_[p],1)):(_[p]=ie(k),_[p].c(),g(_[p],1),_[p].m(r.parentNode,r))}for(T(),p=I.length;p<_.length;p+=1)N(p);D()}},i(u){if(!f){for(let h=0;h<I.length;h+=1)g(_[h]);f=!0}},o(u){_=_.filter(Boolean);for(let h=0;h<_.length;h+=1)b(_[h]);f=!1},d(u){u&&(d(e),d(i),d(r)),oe(_,u)}}}function $e(o){let e,n;return e=new _e({}),{c(){P(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){J(e,t,l),n=!0},p:F,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function we(o){let e,n,t;return{c(){e=j("img"),this.h()},l(l){e=C(l,"IMG",{class:!0,alt:!0,src:!0,width:!0,height:!0}),this.h()},h(){c(e,"class","cover"),c(e,"alt",n=o[10]),Y(e.src,t=o[11])||c(e,"src",t),c(e,"width","64px"),c(e,"height","64px")},m(l,a){E(l,e,a)},p(l,a){a&1&&n!==(n=l[10])&&c(e,"alt",n),a&1&&!Y(e.src,t=l[11])&&c(e,"src",t)},i:F,o:F,d(l){l&&d(e)}}}function te(o){let e,n,t,l,a;n=new ge({});function s(){return o[3](o[9])}return{c(){e=j("button"),P(n.$$.fragment)},l(i){e=C(i,"BUTTON",{});var r=O(e);X(n.$$.fragment,r),r.forEach(d)},m(i,r){E(i,e,r),J(n,e,null),t=!0,l||(a=W(e,"click",s),l=!0)},p(i,r){o=i},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){b(n.$$.fragment,i),t=!1},d(i){i&&d(e),Q(n),l=!1,a()}}}function le(o){let e,n,t,l,a;n=new me({});function s(){return o[4](o[9])}return{c(){e=j("button"),P(n.$$.fragment)},l(i){e=C(i,"BUTTON",{});var r=O(e);X(n.$$.fragment,r),r.forEach(d)},m(i,r){E(i,e,r),J(n,e,null),t=!0,l||(a=W(e,"click",s),l=!0)},p(i,r){o=i},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){b(n.$$.fragment,i),t=!1},d(i){i&&d(e),Q(n),l=!1,a()}}}function ne(o){let e,n,t,l,a;n=new ve({});function s(){return o[5](o[9])}return{c(){e=j("button"),P(n.$$.fragment)},l(i){e=C(i,"BUTTON",{});var r=O(e);X(n.$$.fragment,r),r.forEach(d)},m(i,r){E(i,e,r),J(n,e,null),t=!0,l||(a=W(e,"click",s),l=!0)},p(i,r){o=i},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){b(n.$$.fragment,i),t=!1},d(i){i&&d(e),Q(n),l=!1,a()}}}function ie(o){let e,n,t,l,a,s=o[10]+"",i,r,f,I,_,N;const u=[we,$e],h=[];function p(m,v){return m[11]!=null?0:1}t=p(o),l=h[t]=u[t](o);let k=o[9].relationship=="Friend"&&te(o),$=o[9].relationship=="Incoming"&&le(o),w=(o[9].relationship=="Outgoing"||o[9].relationship=="Friend"||o[9].relationship=="Incoming")&&ne(o);return{c(){e=j("div"),n=j("div"),l.c(),a=U(),i=q(s),r=U(),k&&k.c(),f=U(),$&&$.c(),I=U(),w&&w.c(),_=U(),this.h()},l(m){e=C(m,"DIV",{class:!0});var v=O(e);n=C(v,"DIV",{class:!0});var M=O(n);l.l(M),a=A(M),i=L(M,s),M.forEach(d),r=A(v),k&&k.l(v),f=A(v),$&&$.l(v),I=A(v),w&&w.l(v),_=A(v),v.forEach(d),this.h()},h(){c(n,"class","p-2"),c(e,"class","flex")},m(m,v){E(m,e,v),B(e,n),h[t].m(n,null),B(n,a),B(n,i),B(e,r),k&&k.m(e,null),B(e,f),$&&$.m(e,null),B(e,I),w&&w.m(e,null),B(e,_),N=!0},p(m,v){let M=t;t=p(m),t===M?h[t].p(m,v):(T(),b(h[M],1,1,()=>{h[M]=null}),D(),l=h[t],l?l.p(m,v):(l=h[t]=u[t](m),l.c()),g(l,1),l.m(n,a)),(!N||v&1)&&s!==(s=m[10]+"")&&R(i,s),m[9].relationship=="Friend"?k?(k.p(m,v),v&1&&g(k,1)):(k=te(m),k.c(),g(k,1),k.m(e,f)):k&&(T(),b(k,1,1,()=>{k=null}),D()),m[9].relationship=="Incoming"?$?($.p(m,v),v&1&&g($,1)):($=le(m),$.c(),g($,1),$.m(e,I)):$&&(T(),b($,1,1,()=>{$=null}),D()),m[9].relationship=="Outgoing"||m[9].relationship=="Friend"||m[9].relationship=="Incoming"?w?(w.p(m,v),v&1&&g(w,1)):(w=ne(m),w.c(),g(w,1),w.m(e,_)):w&&(T(),b(w,1,1,()=>{w=null}),D())},i(m){N||(g(l),g(k),g($),g(w),N=!0)},o(m){b(l),b(k),b($),b(w),N=!1},d(m){m&&d(e),h[t].d(),k&&k.d(),$&&$.d(),w&&w.d()}}}function re(o){let e,n,t=o[2].length!=0&&ee(o);return{c(){t&&t.c(),e=S()},l(l){t&&t.l(l),e=S()},m(l,a){t&&t.m(l,a),E(l,e,a),n=!0},p(l,a){l[2].length!=0?t?(t.p(l,a),a&1&&g(t,1)):(t=ee(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(T(),b(t,1,1,()=>{t=null}),D())},i(l){n||(g(t),n=!0)},o(l){b(t),n=!1},d(l){l&&d(e),t&&t.d(l)}}}function be(o){let e,n,t=z(o[0]),l=[];for(let s=0;s<t.length;s+=1)l[s]=re(Z(o,t,s));const a=s=>b(l[s],1,1,()=>{l[s]=null});return{c(){e=j("main");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=C(s,"MAIN",{class:!0});var i=O(e);for(let r=0;r<l.length;r+=1)l[r].l(i);i.forEach(d),this.h()},h(){c(e,"class","main-content-container")},m(s,i){E(s,e,i);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null);n=!0},p(s,[i]){if(i&3){t=z(s[0]);let r;for(r=0;r<t.length;r+=1){const f=Z(s,t,r);l[r]?(l[r].p(f,i),g(l[r],1)):(l[r]=re(f),l[r].c(),g(l[r],1),l[r].m(e,null))}for(T(),r=t.length;r<l.length;r+=1)a(r);D()}},i(s){if(!n){for(let i=0;i<t.length;i+=1)g(l[i]);n=!0}},o(s){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)b(l[i]);n=!1},d(s){s&&d(e),oe(l,s)}}}function Ie(o,e,n){let t;const l=ce(fe);let a=Array.from(l.api.cache.users.values()).filter(f=>f.relationship!=null&&["Outgoing","Incoming","Blocked","BlockedOther","Friend"].includes(f.relationship));const s=async f=>{const{_id:I}=await l.api.openDM(f._id);await se(`${ae}/channels/${I}`)},i=f=>l.api.acceptFriend(f._id),r=f=>l.api.removeFriend(f._id);return n(0,t=[{title:"Outgoing",list:a.filter(f=>f.relationship=="Outgoing")},{title:"Incoming",list:a.filter(f=>f.relationship=="Incoming")},{title:"Online",list:a.filter(f=>f.relationship=="Friend"&&f.online)},{title:"Offline",list:a.filter(f=>f.relationship=="Friend"&&!f.online)},{title:"Blocked",list:a.filter(f=>f.relationship=="Blocked")}]),[t,l,a,s,i,r]}class De extends H{constructor(e){super(),K(this,e,Ie,be,G,{})}}export{De as component};
