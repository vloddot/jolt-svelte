import{s as J,v as X,f as w,l as $,a as P,g as y,h as C,m as k,d,c as U,j as E,i as v,z as b,n as j,w as Z,x,y as ee,p as K,K as te,A as ne,N as le,O as N,u as se}from"../chunks/scheduler.693b9c9b.js";import{h as R,u as ae}from"../chunks/await_block.1641c5fa.js";import{S as Q,i as W,a as I,t as F,b as L,d as M,m as O,e as T,f as z}from"../chunks/index.bb1ba657.js";import{g as ie,c as re}from"../chunks/context.ca3e4b8d.js";import{I as V}from"../chunks/InputSetting.f967fb36.js";function G(i){let e,n;return{c(){e=w("p"),n=$(i[1]),this.h()},l(t){e=y(t,"P",{class:!0});var l=C(e);n=k(l,i[1]),l.forEach(d),this.h()},h(){E(e,"class","indented svelte-1jtf5b3")},m(t,l){v(t,e,l),b(e,n)},p(t,l){l&2&&j(n,t[1])},d(t){t&&d(e)}}}function ue(i){let e,n,t,l,a,u,m,s;const p=i[4].default,o=X(p,i,i[3],null);let f=i[1]!=null&&G(i);return{c(){e=w("details"),n=w("summary"),t=w("label"),l=$(i[0]),a=P(),u=w("div"),o&&o.c(),m=P(),f&&f.c(),this.h()},l(r){e=y(r,"DETAILS",{});var _=C(e);n=y(_,"SUMMARY",{});var A=C(n);t=y(A,"LABEL",{for:!0});var S=C(t);l=k(S,i[0]),S.forEach(d),A.forEach(d),a=U(_),u=y(_,"DIV",{class:!0});var D=C(u);o&&o.l(D),D.forEach(d),m=U(_),f&&f.l(_),_.forEach(d),this.h()},h(){E(t,"for",i[2]),E(u,"class","indented svelte-1jtf5b3")},m(r,_){v(r,e,_),b(e,n),b(n,t),b(t,l),b(e,a),b(e,u),o&&o.m(u,null),b(e,m),f&&f.m(e,null),s=!0},p(r,[_]){(!s||_&1)&&j(l,r[0]),(!s||_&4)&&E(t,"for",r[2]),o&&o.p&&(!s||_&8)&&Z(o,p,r,r[3],s?ee(p,r[3],_,null):x(r[3]),null),r[1]!=null?f?f.p(r,_):(f=G(r),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(r){s||(I(o,r),s=!0)},o(r){F(o,r),s=!1},d(r){r&&d(e),o&&o.d(r),f&&f.d()}}}function oe(i,e,n){let{$$slots:t={},$$scope:l}=e,{title:a}=e,{description:u=void 0}=e,{id:m}=e;return i.$$set=s=>{"title"in s&&n(0,a=s.title),"description"in s&&n(1,u=s.description),"id"in s&&n(2,m=s.id),"$$scope"in s&&n(3,l=s.$$scope)},[a,u,m,l,t]}class fe extends Q{constructor(e){super(),W(this,e,oe,ue,J,{title:0,description:1,id:2})}}function H(i){let e,n,t={ctx:i,current:null,token:null,hasCatch:!0,pending:me,then:de,catch:ce,value:7,error:8};return R(n=i[2],t),{c(){e=w("p"),t.block.c()},l(l){e=y(l,"P",{});var a=C(e);t.block.l(a),a.forEach(d)},m(l,a){v(l,e,a),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(l,a){i=l,t.ctx=i,a&4&&n!==(n=i[2])&&R(n,t)||ae(t,i,a)},d(l){l&&d(e),t.block.d(),t.token=null,t=null}}}function ce(i){let e,n=i[8]+"",t;return{c(){e=$("Failed to change username: "),t=$(n)},l(l){e=k(l,"Failed to change username: "),t=k(l,n)},m(l,a){v(l,e,a),v(l,t,a)},p(l,a){a&4&&n!==(n=l[8]+"")&&j(t,n)},d(l){l&&(d(e),d(t))}}}function de(i){let e,n=i[7].username+"",t,l,a=i[7].discriminator+"",u,m;return{c(){e=$("Successfully changed username to "),t=$(n),l=$("#"),u=$(a),m=$("!")},l(s){e=k(s,"Successfully changed username to "),t=k(s,n),l=k(s,"#"),u=k(s,a),m=k(s,"!")},m(s,p){v(s,e,p),v(s,t,p),v(s,l,p),v(s,u,p),v(s,m,p)},p(s,p){p&4&&n!==(n=s[7].username+"")&&j(t,n),p&4&&a!==(a=s[7].discriminator+"")&&j(u,a)},d(s){s&&(d(e),d(t),d(l),d(u),d(m))}}}function me(i){let e;return{c(){e=$("Changing username...")},l(n){e=k(n,"Changing username...")},m(n,t){v(n,e,t)},p:se,d(n){n&&d(e)}}}function _e(i){let e,n,t,l,a,u,m,s,p="Change your username.",o,f,r,_;function A(c){i[4](c)}let S={type:"text",placeholder:"Username",description:"Your shiny new username!"};i[0]!==void 0&&(S.value=i[0]),n=new V({props:S}),K.push(()=>z(n,"value",A));function D(c){i[5](c)}let Y={type:"password",placeholder:"Password",description:"Your current password to verify the changes made to your account."};i[1]!==void 0&&(Y.value=i[1]),a=new V({props:Y}),K.push(()=>z(a,"value",D));let h=i[2]!=null&&H(i);return{c(){e=w("form"),L(n.$$.fragment),l=P(),L(a.$$.fragment),m=P(),s=w("button"),s.textContent=p,o=P(),h&&h.c(),this.h()},l(c){e=y(c,"FORM",{id:!0});var g=C(e);M(n.$$.fragment,g),l=U(g),M(a.$$.fragment,g),m=U(g),s=y(g,"BUTTON",{type:!0,"data-svelte-h":!0}),te(s)!=="svelte-nqnvjc"&&(s.textContent=p),o=U(g),h&&h.l(g),g.forEach(d),this.h()},h(){E(s,"type","submit"),E(e,"id","change-username-form")},m(c,g){v(c,e,g),O(n,e,null),b(e,l),O(a,e,null),b(e,m),b(e,s),b(e,o),h&&h.m(e,null),f=!0,r||(_=ne(e,"submit",le(i[6])),r=!0)},p(c,g){const q={};!t&&g&1&&(t=!0,q.value=c[0],N(()=>t=!1)),n.$set(q);const B={};!u&&g&2&&(u=!0,B.value=c[1],N(()=>u=!1)),a.$set(B),c[2]!=null?h?h.p(c,g):(h=H(c),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i(c){f||(I(n.$$.fragment,c),I(a.$$.fragment,c),f=!0)},o(c){F(n.$$.fragment,c),F(a.$$.fragment,c),f=!1},d(c){c&&d(e),T(n),T(a),h&&h.d(),r=!1,_()}}}function pe(i){let e,n;return e=new fe({props:{title:"Change username",id:"change-username",$$slots:{default:[_e]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const a={};l&519&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function he(i,e,n){const t=ie(re);let l="",a="",u;function m(o){l=o,n(0,l)}function s(o){a=o,n(1,a)}return[l,a,u,t,m,s,()=>n(2,u=t.api.changeUsername(l,a))]}class we extends Q{constructor(e){super(),W(this,e,he,pe,J,{})}}export{we as component};
