import{s as J,d as X,u as Z,g as x,e as ee,b as R,i as z,n as te}from"../chunks/scheduler.bc65eea2.js";import{S as Q,i as W,g as w,m as $,s as P,h as C,j as y,n as k,f as m,c as U,k as E,a as v,x as b,o as A,d as F,t as L,r as M,u as T,v as Y,w as j,C as K,z as ne,A as le,D as se}from"../chunks/index.cf715be0.js";import{h as N,u as ae}from"../chunks/await_block.b32c7e6c.js";import{g as ie,c as re}from"../chunks/context.90bee080.js";import{I as V}from"../chunks/InputSetting.3253538b.js";function G(i){let e,n;return{c(){e=w("p"),n=$(i[1]),this.h()},l(t){e=C(t,"P",{class:!0});var l=y(e);n=k(l,i[1]),l.forEach(m),this.h()},h(){E(e,"class","ml-4")},m(t,l){v(t,e,l),b(e,n)},p(t,l){l&2&&A(n,t[1])},d(t){t&&m(e)}}}function ue(i){let e,n,t,l,a,u,d,s;const p=i[4].default,o=X(p,i,i[3],null);let f=i[1]!=null&&G(i);return{c(){e=w("details"),n=w("summary"),t=w("label"),l=$(i[0]),a=P(),u=w("div"),o&&o.c(),d=P(),f&&f.c(),this.h()},l(r){e=C(r,"DETAILS",{});var _=y(e);n=C(_,"SUMMARY",{});var D=y(n);t=C(D,"LABEL",{for:!0});var S=y(t);l=k(S,i[0]),S.forEach(m),D.forEach(m),a=U(_),u=C(_,"DIV",{class:!0});var I=y(u);o&&o.l(I),I.forEach(m),d=U(_),f&&f.l(_),_.forEach(m),this.h()},h(){E(t,"for",i[2]),E(u,"class","ml-4")},m(r,_){v(r,e,_),b(e,n),b(n,t),b(t,l),b(e,a),b(e,u),o&&o.m(u,null),b(e,d),f&&f.m(e,null),s=!0},p(r,[_]){(!s||_&1)&&A(l,r[0]),(!s||_&4)&&E(t,"for",r[2]),o&&o.p&&(!s||_&8)&&Z(o,p,r,r[3],s?ee(p,r[3],_,null):x(r[3]),null),r[1]!=null?f?f.p(r,_):(f=G(r),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(r){s||(F(o,r),s=!0)},o(r){L(o,r),s=!1},d(r){r&&m(e),o&&o.d(r),f&&f.d()}}}function oe(i,e,n){let{$$slots:t={},$$scope:l}=e,{title:a}=e,{description:u=void 0}=e,{id:d}=e;return i.$$set=s=>{"title"in s&&n(0,a=s.title),"description"in s&&n(1,u=s.description),"id"in s&&n(2,d=s.id),"$$scope"in s&&n(3,l=s.$$scope)},[a,u,d,l,t]}class fe extends Q{constructor(e){super(),W(this,e,oe,ue,J,{title:0,description:1,id:2})}}function H(i){let e,n,t={ctx:i,current:null,token:null,hasCatch:!0,pending:de,then:me,catch:ce,value:7,error:8};return N(n=i[2],t),{c(){e=w("p"),t.block.c()},l(l){e=C(l,"P",{});var a=y(e);t.block.l(a),a.forEach(m)},m(l,a){v(l,e,a),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(l,a){i=l,t.ctx=i,a&4&&n!==(n=i[2])&&N(n,t)||ae(t,i,a)},d(l){l&&m(e),t.block.d(),t.token=null,t=null}}}function ce(i){let e,n=i[8]+"",t;return{c(){e=$("Failed to change username: "),t=$(n)},l(l){e=k(l,"Failed to change username: "),t=k(l,n)},m(l,a){v(l,e,a),v(l,t,a)},p(l,a){a&4&&n!==(n=l[8]+"")&&A(t,n)},d(l){l&&(m(e),m(t))}}}function me(i){let e,n=i[7].username+"",t,l,a=i[7].discriminator+"",u,d;return{c(){e=$("Successfully changed username to "),t=$(n),l=$("#"),u=$(a),d=$("!")},l(s){e=k(s,"Successfully changed username to "),t=k(s,n),l=k(s,"#"),u=k(s,a),d=k(s,"!")},m(s,p){v(s,e,p),v(s,t,p),v(s,l,p),v(s,u,p),v(s,d,p)},p(s,p){p&4&&n!==(n=s[7].username+"")&&A(t,n),p&4&&a!==(a=s[7].discriminator+"")&&A(u,a)},d(s){s&&(m(e),m(t),m(l),m(u),m(d))}}}function de(i){let e;return{c(){e=$("Changing username...")},l(n){e=k(n,"Changing username...")},m(n,t){v(n,e,t)},p:te,d(n){n&&m(e)}}}function _e(i){let e,n,t,l,a,u,d,s,p="Change your username.",o,f,r,_;function D(c){i[4](c)}let S={type:"text",placeholder:"Username",description:"Your shiny new username!"};i[0]!==void 0&&(S.value=i[0]),n=new V({props:S}),R.push(()=>K(n,"value",D));function I(c){i[5](c)}let q={type:"password",placeholder:"Password",description:"Your current password to verify the changes made to your account."};i[1]!==void 0&&(q.value=i[1]),a=new V({props:q}),R.push(()=>K(a,"value",I));let h=i[2]!=null&&H(i);return{c(){e=w("form"),M(n.$$.fragment),l=P(),M(a.$$.fragment),d=P(),s=w("button"),s.textContent=p,o=P(),h&&h.c(),this.h()},l(c){e=C(c,"FORM",{id:!0});var g=y(e);T(n.$$.fragment,g),l=U(g),T(a.$$.fragment,g),d=U(g),s=C(g,"BUTTON",{type:!0,"data-svelte-h":!0}),ne(s)!=="svelte-nqnvjc"&&(s.textContent=p),o=U(g),h&&h.l(g),g.forEach(m),this.h()},h(){E(s,"type","submit"),E(e,"id","change-username-form")},m(c,g){v(c,e,g),Y(n,e,null),b(e,l),Y(a,e,null),b(e,d),b(e,s),b(e,o),h&&h.m(e,null),f=!0,r||(_=le(e,"submit",se(i[6])),r=!0)},p(c,g){const B={};!t&&g&1&&(t=!0,B.value=c[0],z(()=>t=!1)),n.$set(B);const O={};!u&&g&2&&(u=!0,O.value=c[1],z(()=>u=!1)),a.$set(O),c[2]!=null?h?h.p(c,g):(h=H(c),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i(c){f||(F(n.$$.fragment,c),F(a.$$.fragment,c),f=!0)},o(c){L(n.$$.fragment,c),L(a.$$.fragment,c),f=!1},d(c){c&&m(e),j(n),j(a),h&&h.d(),r=!1,_()}}}function pe(i){let e,n;return e=new fe({props:{title:"Change username",id:"change-username",$$slots:{default:[_e]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){Y(e,t,l),n=!0},p(t,[l]){const a={};l&519&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function he(i,e,n){const t=ie(re);let l="",a="",u;function d(o){l=o,n(0,l)}function s(o){a=o,n(1,a)}return[l,a,u,t,d,s,()=>n(2,u=t.api.changeUsername(l,a))]}class we extends Q{constructor(e){super(),W(this,e,he,pe,J,{})}}export{we as component};
