import{s as j,d as V,u as z,g as A,e as F,c as $,o as H,n as J}from"../chunks/scheduler.a21a5cad.js";import{S as O,i as Q,s as q,c as B,a as d,t as p,b as g,d as u,f as h,g as T,h as U,j as W,k as M,p as b,e as k,y as X,r as E,u as G,v as L,w as P}from"../chunks/index.4419476b.js";import{e as v}from"../chunks/each.e59479a4.js";import{p as Y}from"../chunks/stores.635fb9bd.js";import{g as C,c as Z}from"../chunks/context.898bb4a8.js";/* empty css                      */import{C as R}from"../chunks/Channel.4ac71bae.js";import{s as x}from"../chunks/context.fa34f1f8.js";import{w as ee}from"../chunks/index.d8292243.js";function D(r,t,o){const e=r.slice();return e[10]=t[o],e}function S(r){let t,o,e,n=r[1]!=null&&w(r),a=v(r[0]),s=[];for(let l=0;l<a.length;l+=1)s[l]=N(D(r,a,l));const i=l=>p(s[l],1,1,()=>{s[l]=null});return{c(){n&&n.c(),t=q();for(let l=0;l<s.length;l+=1)s[l].c();o=k()},l(l){n&&n.l(l),t=B(l);for(let c=0;c<s.length;c+=1)s[c].l(l);o=k()},m(l,c){n&&n.m(l,c),d(l,t,c);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(l,c);d(l,o,c),e=!0},p(l,c){if(l[1]!=null?n?(n.p(l,c),c&2&&u(n,1)):(n=w(l),n.c(),u(n,1),n.m(t.parentNode,t)):n&&(b(),p(n,1,1,()=>{n=null}),g()),c&1){a=v(l[0]);let f;for(f=0;f<a.length;f+=1){const _=D(l,a,f);s[f]?(s[f].p(_,c),u(s[f],1)):(s[f]=N(_),s[f].c(),u(s[f],1),s[f].m(o.parentNode,o))}for(b(),f=a.length;f<s.length;f+=1)i(f);g()}},i(l){if(!e){u(n);for(let c=0;c<a.length;c+=1)u(s[c]);e=!0}},o(l){p(n),s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)p(s[c]);e=!1},d(l){l&&(h(t),h(o)),n&&n.d(l),X(s,l)}}}function w(r){let t,o;return t=new R({props:{channel:r[1]}}),{c(){E(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,n){L(t,e,n),o=!0},p(e,n){const a={};n&2&&(a.channel=e[1]),t.$set(a)},i(e){o||(u(t.$$.fragment,e),o=!0)},o(e){p(t.$$.fragment,e),o=!1},d(e){P(t,e)}}}function I(r){let t,o;return t=new R({props:{channel:r[10]}}),{c(){E(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,n){L(t,e,n),o=!0},p(e,n){const a={};n&1&&(a.channel=e[10]),t.$set(a)},i(e){o||(u(t.$$.fragment,e),o=!0)},o(e){p(t.$$.fragment,e),o=!1},d(e){P(t,e)}}}function N(r){let t,o,e=r[10].channel_type!="SavedMessages"&&I(r);return{c(){e&&e.c(),t=k()},l(n){e&&e.l(n),t=k()},m(n,a){e&&e.m(n,a),d(n,t,a),o=!0},p(n,a){n[10].channel_type!="SavedMessages"?e?(e.p(n,a),a&1&&u(e,1)):(e=I(n),e.c(),u(e,1),e.m(t.parentNode,t)):e&&(b(),p(e,1,1,()=>{e=null}),g())},i(n){o||(u(e),o=!0)},o(n){p(e),o=!1},d(n){n&&h(t),e&&e.d(n)}}}function K(r){let t,o,e=r[0]!=null&&S(r);return{c(){t=T("div"),e&&e.c(),this.h()},l(n){t=U(n,"DIV",{role:!0,class:!0});var a=W(t);e&&e.l(a),a.forEach(h),this.h()},h(){M(t,"role","list"),M(t,"class","channel-bar-container")},m(n,a){d(n,t,a),e&&e.m(t,null),o=!0},p(n,a){n[0]!=null?e?(e.p(n,a),a&1&&u(e,1)):(e=S(n),e.c(),u(e,1),e.m(t,null)):e&&(b(),p(e,1,1,()=>{e=null}),g())},i(n){o||(u(e),o=!0)},o(n){p(e),o=!1},d(n){n&&h(t),e&&e.d()}}}function ne(r){let t=r[2],o,e,n=K(r);const a=r[7].default,s=V(a,r,r[6],null);return{c(){n.c(),o=q(),s&&s.c()},l(i){n.l(i),o=B(i),s&&s.l(i)},m(i,l){n.m(i,l),d(i,o,l),s&&s.m(i,l),e=!0},p(i,[l]){l&4&&j(t,t=i[2])?(b(),p(n,1,1,J),g(),n=K(i),n.c(),u(n,1),n.m(o.parentNode,o)):n.p(i,l),s&&s.p&&(!e||l&64)&&z(s,a,i,i[6],e?F(a,i[6],l,null):A(i[6]),null)},i(i){e||(u(n),u(s,i),e=!0)},o(i){p(n),p(s,i),e=!1},d(i){i&&h(o),n.d(i),s&&s.d(i)}}}function te(r,t,o){let e,n,a,s;$(r,Y,m=>o(5,a=m));let{$$slots:i={},$$scope:l}=t;const c=C(Z),f=C(x)??ee();$(r,f,m=>o(2,s=m));let _;function y(){o(0,_=c.api.cache.channels.filter(m=>["DirectMessage","Group","SavedMessages"].includes(m.channel_type))),((_==null?void 0:_.length)??0)==0&&c.ready&&c.api.fetchDirectMessages().then(m=>o(0,_=m))}return c.on("Ready",y),H(y),r.$$set=m=>{"$$scope"in m&&o(6,l=m.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&o(4,e=a.params),r.$$.dirty&16&&f.set(e.id),r.$$.dirty&1&&o(1,n=_==null?void 0:_.find(m=>m.channel_type=="SavedMessages"))},[_,n,s,f,e,a,l,i]}class pe extends O{constructor(t){super(),Q(this,t,te,ne,j,{})}}export{pe as component};
