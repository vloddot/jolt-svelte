import{s as J,f as y}from"../chunks/scheduler.bc65eea2.js";import{S as Q,i as W,g as b,h as $,j as B,f as d,k as I,a as F,d as v,b as A,t as w,y as z,e as R,p as C,m as N,s as E,n as D,c as M,x as k,o as U,r as Y,u as Z,v as x,w as ee,A as G}from"../chunks/index.cf715be0.js";import{e as T}from"../chunks/each.e59479a4.js";import{g as te}from"../chunks/navigation.d66cb5e0.js";import{b as le}from"../chunks/paths.2d698a35.js";import{g as ie,c as ne}from"../chunks/context.90bee080.js";import{g as L,b as re}from"../chunks/util.892acc65.js";import{R as oe}from"../chunks/RoundedImage.78a8751c.js";const se=""+new URL("../assets/envelope.65d29bde.svg",import.meta.url).href,ae=""+new URL("../assets/check.25c4f119.svg",import.meta.url).href,ce=""+new URL("../assets/x-mark.012c62cc.svg",import.meta.url).href;function S(c,e,n){const l=c.slice();return l[6]=e[n].title,l[2]=e[n].list,l}function q(c,e,n){const l=c.slice();l[9]=e[n];const t=re(l[9]);return l[10]=t,l}function V(c){let e,n=c[6]+"",l,t,h=c[2].length+"",a,r,i,u,g=T(c[2]),m=[];for(let s=0;s<g.length;s+=1)m[s]=P(q(c,g,s));const p=s=>w(m[s],1,1,()=>{m[s]=null});return{c(){e=b("h1"),l=N(n),t=N(" -- "),a=N(h),r=E();for(let s=0;s<m.length;s+=1)m[s].c();i=R(),this.h()},l(s){e=$(s,"H1",{class:!0});var f=B(e);l=D(f,n),t=D(f," -- "),a=D(f,h),f.forEach(d),r=M(s);for(let o=0;o<m.length;o+=1)m[o].l(s);i=R(),this.h()},h(){I(e,"class","uppercase")},m(s,f){F(s,e,f),k(e,l),k(e,t),k(e,a),F(s,r,f);for(let o=0;o<m.length;o+=1)m[o]&&m[o].m(s,f);F(s,i,f),u=!0},p(s,f){if((!u||f&1)&&n!==(n=s[6]+"")&&U(l,n),(!u||f&1)&&h!==(h=s[2].length+"")&&U(a,h),f&3){g=T(s[2]);let o;for(o=0;o<g.length;o+=1){const _=q(s,g,o);m[o]?(m[o].p(_,f),v(m[o],1)):(m[o]=P(_),m[o].c(),v(m[o],1),m[o].m(i.parentNode,i))}for(C(),o=g.length;o<m.length;o+=1)p(o);A()}},i(s){if(!u){for(let f=0;f<g.length;f+=1)v(m[f]);u=!0}},o(s){m=m.filter(Boolean);for(let f=0;f<m.length;f+=1)w(m[f]);u=!1},d(s){s&&(d(e),d(r),d(i)),z(m,s)}}}function j(c){let e,n,l,t,h;function a(){return c[3](c[9])}return{c(){e=b("button"),n=b("img"),this.h()},l(r){e=$(r,"BUTTON",{});var i=B(e);n=$(i,"IMG",{src:!0,alt:!0}),i.forEach(d),this.h()},h(){y(n.src,l=se)||I(n,"src",l),I(n,"alt","Send Direct Message")},m(r,i){F(r,e,i),k(e,n),t||(h=G(e,"click",a),t=!0)},p(r,i){c=r},d(r){r&&d(e),t=!1,h()}}}function H(c){let e,n,l,t,h;function a(){return c[4](c[9])}return{c(){e=b("button"),n=b("img"),this.h()},l(r){e=$(r,"BUTTON",{});var i=B(e);n=$(i,"IMG",{src:!0,alt:!0}),i.forEach(d),this.h()},h(){y(n.src,l=ae)||I(n,"src",l),I(n,"alt","Accept Friend")},m(r,i){F(r,e,i),k(e,n),t||(h=G(e,"click",a),t=!0)},p(r,i){c=r},d(r){r&&d(e),t=!1,h()}}}function K(c){let e,n,l,t,h;function a(){return c[5](c[9])}return{c(){e=b("button"),n=b("img"),this.h()},l(r){e=$(r,"BUTTON",{});var i=B(e);n=$(i,"IMG",{src:!0,alt:!0}),i.forEach(d),this.h()},h(){y(n.src,l=ce)||I(n,"src",l),I(n,"alt","Remove Friend")},m(r,i){F(r,e,i),k(e,n),t||(h=G(e,"click",a),t=!0)},p(r,i){c=r},d(r){r&&d(e),t=!1,h()}}}function P(c){let e,n,l,t,h=c[10]+"",a,r,i,u,g,m;l=new oe({props:{name:c[10],src:L(c[9]),width:64,height:64}});let p=c[9].relationship=="Friend"&&j(c),s=c[9].relationship=="Incoming"&&H(c),f=(c[9].relationship=="Outgoing"||c[9].relationship=="Friend"||c[9].relationship=="Incoming")&&K(c);return{c(){e=b("div"),n=b("div"),Y(l.$$.fragment),t=E(),a=N(h),r=E(),p&&p.c(),i=E(),s&&s.c(),u=E(),f&&f.c(),g=E(),this.h()},l(o){e=$(o,"DIV",{class:!0});var _=B(e);n=$(_,"DIV",{class:!0});var O=B(n);Z(l.$$.fragment,O),t=M(O),a=D(O,h),O.forEach(d),r=M(_),p&&p.l(_),i=M(_),s&&s.l(_),u=M(_),f&&f.l(_),g=M(_),_.forEach(d),this.h()},h(){I(n,"class","p-2"),I(e,"class","flex")},m(o,_){F(o,e,_),k(e,n),x(l,n,null),k(n,t),k(n,a),k(e,r),p&&p.m(e,null),k(e,i),s&&s.m(e,null),k(e,u),f&&f.m(e,null),k(e,g),m=!0},p(o,_){const O={};_&1&&(O.name=o[10]),_&1&&(O.src=L(o[9])),l.$set(O),(!m||_&1)&&h!==(h=o[10]+"")&&U(a,h),o[9].relationship=="Friend"?p?p.p(o,_):(p=j(o),p.c(),p.m(e,i)):p&&(p.d(1),p=null),o[9].relationship=="Incoming"?s?s.p(o,_):(s=H(o),s.c(),s.m(e,u)):s&&(s.d(1),s=null),o[9].relationship=="Outgoing"||o[9].relationship=="Friend"||o[9].relationship=="Incoming"?f?f.p(o,_):(f=K(o),f.c(),f.m(e,g)):f&&(f.d(1),f=null)},i(o){m||(v(l.$$.fragment,o),m=!0)},o(o){w(l.$$.fragment,o),m=!1},d(o){o&&d(e),ee(l),p&&p.d(),s&&s.d(),f&&f.d()}}}function X(c){let e,n,l=c[2].length!=0&&V(c);return{c(){l&&l.c(),e=R()},l(t){l&&l.l(t),e=R()},m(t,h){l&&l.m(t,h),F(t,e,h),n=!0},p(t,h){t[2].length!=0?l?(l.p(t,h),h&1&&v(l,1)):(l=V(t),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(C(),w(l,1,1,()=>{l=null}),A())},i(t){n||(v(l),n=!0)},o(t){w(l),n=!1},d(t){t&&d(e),l&&l.d(t)}}}function fe(c){let e,n,l=T(c[0]),t=[];for(let a=0;a<l.length;a+=1)t[a]=X(S(c,l,a));const h=a=>w(t[a],1,1,()=>{t[a]=null});return{c(){e=b("main");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=$(a,"MAIN",{class:!0});var r=B(e);for(let i=0;i<t.length;i+=1)t[i].l(r);r.forEach(d),this.h()},h(){I(e,"class","main-content-container")},m(a,r){F(a,e,r);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null);n=!0},p(a,[r]){if(r&3){l=T(a[0]);let i;for(i=0;i<l.length;i+=1){const u=S(a,l,i);t[i]?(t[i].p(u,r),v(t[i],1)):(t[i]=X(u),t[i].c(),v(t[i],1),t[i].m(e,null))}for(C(),i=l.length;i<t.length;i+=1)h(i);A()}},i(a){if(!n){for(let r=0;r<l.length;r+=1)v(t[r]);n=!0}},o(a){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)w(t[r]);n=!1},d(a){a&&d(e),z(t,a)}}}function he(c,e,n){let l;const t=ie(ne);let h=Array.from(t.api.cache.users.values()).filter(u=>u.relationship!=null&&["Outgoing","Incoming","Blocked","BlockedOther","Friend"].includes(u.relationship));const a=async u=>{const{_id:g}=await t.api.openDM(u._id);await te(`${le}/channels/${g}`)},r=u=>t.api.acceptFriend(u._id),i=u=>t.api.removeFriend(u._id);return n(0,l=[{title:"Outgoing",list:h.filter(u=>u.relationship=="Outgoing")},{title:"Incoming",list:h.filter(u=>u.relationship=="Incoming")},{title:"Online",list:h.filter(u=>u.relationship=="Friend"&&u.online)},{title:"Offline",list:h.filter(u=>u.relationship=="Friend"&&!u.online)},{title:"Blocked",list:h.filter(u=>u.relationship=="Blocked")}]),[l,t,h,a,r,i]}class be extends Q{constructor(e){super(),W(this,e,he,fe,J,{})}}export{be as component};
