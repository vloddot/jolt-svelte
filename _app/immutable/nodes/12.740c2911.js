import{s as le}from"../chunks/sections.e03fa765.js";import{f as re}from"../chunks/index.113a7bcf.js";import{s as L,n as q,c as oe,b as ae}from"../chunks/scheduler.a21a5cad.js";import{S as N,i as V,g as $,m as z,s as C,h as y,j as w,n as K,f as p,c as P,k as g,a as S,x as v,o as H,r as B,u as M,A as ce,v as O,z as ee,d as I,t as T,w as R,e as G,p as te,b as ne,y as fe}from"../chunks/index.4419476b.js";import{e as Q}from"../chunks/each.e59479a4.js";import{g as F,a as ue,c as ie}from"../chunks/context.898bb4a8.js";import{g as pe}from"../chunks/chunk-NMUKSDLG.3f77d6f4.js";const de=async({params:s,parent:t})=>{const{sections:i}=await t(),e=i.find(n=>n.type=="normal"&&s.section==n.id);if(e==null)throw re(404);return{section:e}},me=()=>le.filter(s=>s.type=="normal").map(s=>{if(s.type!="normal")throw new Error(`unreachable, section ${s} is not of type "normal"`);return{section:s.id}}),Oe=Object.freeze(Object.defineProperty({__proto__:null,entries:me,load:de},Symbol.toStringTag,{value:"Module"}));function W(s){let t,i=s[0].description+"",e;return{c(){t=$("p"),e=z(i),this.h()},l(n){t=y(n,"P",{class:!0});var l=w(t);e=K(l,i),l.forEach(p),this.h()},h(){g(t,"class","ml-4 whitespace-pre-wrap")},m(n,l){S(n,t,l),v(t,e)},p(n,l){l&1&&i!==(i=n[0].description+"")&&H(e,i)},d(n){n&&p(t)}}}function _e(s){let t,i,e,n=s[0].title+"",l,a,r,o,c,u,d,D,k,_=s[0].description&&W(s);return{c(){t=$("div"),i=$("h2"),e=$("label"),l=z(n),r=C(),_&&_.c(),o=C(),c=$("div"),u=C(),d=$("input"),this.h()},l(f){t=y(f,"DIV",{});var m=w(t);i=y(m,"H2",{});var U=w(i);e=y(U,"LABEL",{for:!0});var h=w(e);l=K(h,n),h.forEach(p),U.forEach(p),r=P(m),_&&_.l(m),m.forEach(p),o=P(f),c=y(f,"DIV",{class:!0}),w(c).forEach(p),u=P(f),d=y(f,"INPUT",{id:!0,type:!0}),this.h()},h(){g(e,"for",a=s[0].id),g(c,"class","flex-1"),g(d,"id",D=s[0].id),d.checked=k=s[1]==null?!1:s[2][s[1]],g(d,"type","checkbox")},m(f,m){S(f,t,m),v(t,i),v(i,e),v(e,l),v(t,r),_&&_.m(t,null),S(f,o,m),S(f,c,m),S(f,u,m),S(f,d,m)},p(f,[m]){m&1&&n!==(n=f[0].title+"")&&H(l,n),m&1&&a!==(a=f[0].id)&&g(e,"for",a),f[0].description?_?_.p(f,m):(_=W(f),_.c(),_.m(t,null)):_&&(_.d(1),_=null),m&1&&D!==(D=f[0].id)&&g(d,"id",D),m&6&&k!==(k=f[1]==null?!1:f[2][f[1]])&&(d.checked=k)},i:q,o:q,d(f){f&&(p(t),p(o),p(c),p(u),p(d)),_&&_.d()}}}function he(s,t,i){let e,n;const l=F(ue);oe(s,l,r=>i(2,n=r));let{setting:a}=t;return s.$$set=r=>{"setting"in r&&i(0,a=r.setting)},s.$$.update=()=>{s.$$.dirty&1&&i(1,e=a.action.type=="update-custom-setting"?a.action.key:void 0)},[a,e,n,l]}class ge extends N{constructor(t){super(),V(this,t,he,_e,L,{setting:0})}}function X(s){let t,i=s[0].description+"",e;return{c(){t=$("p"),e=z(i),this.h()},l(n){t=y(n,"P",{class:!0});var l=w(t);e=K(l,i),l.forEach(p),this.h()},h(){g(t,"class","ml-4 whitespace-pre-wrap")},m(n,l){S(n,t,l),v(t,e)},p(n,l){l&1&&i!==(i=n[0].description+"")&&H(e,i)},d(n){n&&p(t)}}}function be(s){let t,i,e,n,l=s[0].title+"",a,r,o,c,u,d,D,k,_="Submit",f,m,U,h=s[0].description&&X(s);return d=new se({props:{settings:s[0].form}}),{c(){t=$("details"),i=$("summary"),e=$("h2"),n=$("label"),a=z(l),o=C(),h&&h.c(),c=C(),u=$("form"),B(d.$$.fragment),D=C(),k=$("button"),k.textContent=_,this.h()},l(b){t=y(b,"DETAILS",{});var E=w(t);i=y(E,"SUMMARY",{});var A=w(i);e=y(A,"H2",{});var J=w(e);n=y(J,"LABEL",{for:!0});var Y=w(n);a=K(Y,l),Y.forEach(p),J.forEach(p),o=P(A),h&&h.l(A),A.forEach(p),c=P(E),u=y(E,"FORM",{});var j=w(u);M(d.$$.fragment,j),D=P(j),k=y(j,"BUTTON",{type:!0,"data-svelte-h":!0}),ce(k)!=="svelte-1ou7dtz"&&(k.textContent=_),j.forEach(p),E.forEach(p),this.h()},h(){g(n,"for",r=s[0].id),g(k,"type","submit")},m(b,E){S(b,t,E),v(t,i),v(i,e),v(e,n),v(n,a),v(i,o),h&&h.m(i,null),v(t,c),v(t,u),O(d,u,null),v(u,D),v(u,k),s[3](u),f=!0,m||(U=ee(u,"submit",s[2]),m=!0)},p(b,[E]){(!f||E&1)&&l!==(l=b[0].title+"")&&H(a,l),(!f||E&1&&r!==(r=b[0].id))&&g(n,"for",r),b[0].description?h?h.p(b,E):(h=X(b),h.c(),h.m(i,null)):h&&(h.d(1),h=null);const A={};E&1&&(A.settings=b[0].form),d.$set(A)},i(b){f||(I(d.$$.fragment,b),f=!0)},o(b){T(d.$$.fragment,b),f=!1},d(b){b&&p(t),h&&h.d(),R(d),s[3](null),m=!1,U()}}}function ve(s,t,i){let{setting:e}=t;const n=F(ie);let l;async function a(o){if(e.action.type=="change-username"){const c=l.querySelector(`#${e.action.usernameId}`).value,u=l.querySelector(`#${e.action.passwordId}`).value;n.user=await n.api.changeUsername(c,u)}}function r(o){ae[o?"unshift":"push"](()=>{l=o,i(1,l)})}return s.$$set=o=>{"setting"in o&&i(0,e=o.setting)},[e,l,a,r]}class $e extends N{constructor(t){super(),V(this,t,ve,be,L,{setting:0})}}function ye(s){let t,i,e,n,l,a;return{c(){t=$("input"),this.h()},l(r){t=y(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){g(t,"id",i=s[1].id),g(t,"class","bg-gray-500 mb-3"),g(t,"type",e=s[1].type),g(t,"placeholder",n=s[1].title)},m(r,o){S(r,t,o),l||(a=ee(t,"input",s[2]),l=!0)},p(r,[o]){o&2&&i!==(i=r[1].id)&&g(t,"id",i),o&2&&e!==(e=r[1].type)&&g(t,"type",e),o&2&&n!==(n=r[1].title)&&g(t,"placeholder",n)},i:q,o:q,d(r){r&&p(t),l=!1,a()}}}function ke(s,t,i){let{setting:e}=t,{value:n=""}=t;const l=F(ie);function a(o){var c;(c=e.getDefaultValue)==null||c.call(e,o).then(u=>i(0,n=u))}l.on("Ready",()=>a(l));const r=o=>i(0,n=o.currentTarget.value);return s.$$set=o=>{"setting"in o&&i(1,e=o.setting),"value"in o&&i(0,n=o.value)},a(l),[n,e,r]}class we extends N{constructor(t){super(),V(this,t,ke,ye,L,{setting:1,value:0})}}function Z(s,t,i){const e=s.slice();return e[1]=t[i],e}function Ee(s){let t,i;return t=new we({props:{setting:s[1]}}),{c(){B(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,n){O(t,e,n),i=!0},p(e,n){const l={};n&1&&(l.setting=e[1]),t.$set(l)},i(e){i||(I(t.$$.fragment,e),i=!0)},o(e){T(t.$$.fragment,e),i=!1},d(e){R(t,e)}}}function Se(s){let t,i;return t=new $e({props:{setting:s[1]}}),{c(){B(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,n){O(t,e,n),i=!0},p(e,n){const l={};n&1&&(l.setting=e[1]),t.$set(l)},i(e){i||(I(t.$$.fragment,e),i=!0)},o(e){T(t.$$.fragment,e),i=!1},d(e){R(t,e)}}}function Ie(s){let t,i;return t=new ge({props:{setting:s[1]}}),{c(){B(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,n){O(t,e,n),i=!0},p(e,n){const l={};n&1&&(l.setting=e[1]),t.$set(l)},i(e){i||(I(t.$$.fragment,e),i=!0)},o(e){T(t.$$.fragment,e),i=!1},d(e){R(t,e)}}}function x(s){let t,i,e,n,l;const a=[Ie,Se,Ee],r=[];function o(c,u){return c[1].type=="checkbox"?0:c[1].type=="dropdown"?1:c[1].type=="text"||c[1].type=="password"?2:-1}return~(i=o(s))&&(e=r[i]=a[i](s)),{c(){t=$("div"),e&&e.c(),n=C(),this.h()},l(c){t=y(c,"DIV",{class:!0});var u=w(t);e&&e.l(u),n=P(u),u.forEach(p),this.h()},h(){g(t,"class","flex ml-4")},m(c,u){S(c,t,u),~i&&r[i].m(t,null),v(t,n),l=!0},p(c,u){let d=i;i=o(c),i===d?~i&&r[i].p(c,u):(e&&(te(),T(r[d],1,1,()=>{r[d]=null}),ne()),~i?(e=r[i],e?e.p(c,u):(e=r[i]=a[i](c),e.c()),I(e,1),e.m(t,n)):e=null)},i(c){l||(I(e),l=!0)},o(c){T(e),l=!1},d(c){c&&p(t),~i&&r[i].d()}}}function Te(s){let t,i,e=Q(s[0]),n=[];for(let a=0;a<e.length;a+=1)n[a]=x(Z(s,e,a));const l=a=>T(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=G()},l(a){for(let r=0;r<n.length;r+=1)n[r].l(a);t=G()},m(a,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(a,r);S(a,t,r),i=!0},p(a,[r]){if(r&1){e=Q(a[0]);let o;for(o=0;o<e.length;o+=1){const c=Z(a,e,o);n[o]?(n[o].p(c,r),I(n[o],1)):(n[o]=x(c),n[o].c(),I(n[o],1),n[o].m(t.parentNode,t))}for(te(),o=e.length;o<n.length;o+=1)l(o);ne()}},i(a){if(!i){for(let r=0;r<e.length;r+=1)I(n[r]);i=!0}},o(a){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)T(n[r]);i=!1},d(a){a&&p(t),fe(n,a)}}}function De(s,t,i){let{settings:e}=t;return s.$$set=n=>{"settings"in n&&i(0,e=n.settings)},[e]}class se extends N{constructor(t){super(),V(this,t,De,Te,L,{settings:0})}}function Ae(s){let t,i;return t=new se({props:{settings:s[0].section.settings}}),{c(){B(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,n){O(t,e,n),i=!0},p(e,[n]){const l={};n&1&&(l.settings=e[0].section.settings),t.$set(l)},i(e){i||(I(t.$$.fragment,e),i=!0)},o(e){T(t.$$.fragment,e),i=!1},d(e){R(t,e)}}}function Ce(s,t,i){let{data:e}=t;return s.$$set=n=>{"data"in n&&i(0,e=n.data)},s.$$.update=()=>{if(s.$$.dirty&1){const n=`${e.section.title} - Jolt`;"__TAURI__"in window?pe.setTitle(n):document.title=n}},[e]}class Re extends N{constructor(t){super(),V(this,t,Ce,Ae,L,{data:0})}}export{Re as component,Oe as universal};
