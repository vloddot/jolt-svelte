import{s as Q,n as $,r as Y}from"../chunks/scheduler.bc65eea2.js";import{S as Z,i as ee,g as d,s as w,h as p,j as y,f as c,c as k,z as F,B as te,k as s,a as A,x as l,E as V,A as q,D as ae,m as se,n as le,o as re}from"../chunks/index.cf715be0.js";import{g as ne}from"../chunks/navigation.d7b0af31.js";import{b as ie}from"../chunks/paths.ea826fab.js";import{g as oe,c as ce}from"../chunks/context.90bee080.js";import{g as ue}from"../chunks/chunk-NMUKSDLG.3f77d6f4.js";function G(u){let n,f;return{c(){n=d("p"),f=se(u[3])},l(r){n=p(r,"P",{});var t=y(n);f=le(t,u[3]),t.forEach(c)},m(r,t){A(r,n,t),l(n,f)},p(r,t){t&8&&re(f,r[3])},d(r){r&&c(n)}}}function fe(u){let n,f,r,t,o,e,_,j="Create Server",S,h,T,g,v,B,x,E,W="Is your server NSFW?",L,C,O,I,H="Create Server",R,D,N,z,J,i=u[3]&&G(u);return document.title=N=M,{c(){n=d("div"),f=w(),r=d("main"),t=d("div"),o=d("div"),e=d("form"),_=d("h1"),_.textContent=j,S=w(),h=d("input"),T=w(),g=d("div"),v=d("textarea"),B=w(),x=d("span"),E=d("label"),E.textContent=W,L=w(),C=d("input"),O=w(),I=d("button"),I.textContent=H,R=w(),i&&i.c(),D=w(),this.h()},l(a){n=p(a,"DIV",{class:!0}),y(n).forEach(c),f=k(a),r=p(a,"MAIN",{class:!0});var m=y(r);t=p(m,"DIV",{class:!0});var K=y(t);o=p(K,"DIV",{class:!0});var P=y(o);e=p(P,"FORM",{id:!0,class:!0});var b=y(e);_=p(b,"H1",{class:!0,"data-svelte-h":!0}),F(_)!=="svelte-1st1u6t"&&(_.textContent=j),S=k(b),h=p(b,"INPUT",{class:!0,type:!0,placeholder:!0}),T=k(b),g=p(b,"DIV",{class:!0});var X=y(g);v=p(X,"TEXTAREA",{class:!0,placeholder:!0}),y(v).forEach(c),X.forEach(c),B=k(b),x=p(b,"SPAN",{class:!0});var U=y(x);E=p(U,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),F(E)!=="svelte-1lqv1kj"&&(E.textContent=W),L=k(U),C=p(U,"INPUT",{type:!0,name:!0}),U.forEach(c),O=k(b),I=p(b,"BUTTON",{type:!0,"data-svelte-h":!0}),F(I)!=="svelte-sjlv6i"&&(I.textContent=H),b.forEach(c),R=k(P),i&&i.l(P),P.forEach(c),K.forEach(c),m.forEach(c),D=k(a),te("svelte-1gb01zc",document.head).forEach(c),this.h()},h(){s(n,"class","channel-bar-container"),s(_,"class","text-3xl"),s(h,"class","bg-gray-500 mb-3 rounded-md"),s(h,"type","text"),s(h,"placeholder","What do you want to name your server?"),s(v,"class","outline-none bg-inherit w-full"),s(v,"placeholder","Describe your server (Optional)"),s(g,"class","bg-gray-500 rounded-xl pt-2 px-2"),s(E,"class","pr-2"),s(E,"for","nsfw"),s(C,"type","checkbox"),s(C,"name","nsfw"),s(x,"class","flex justify-center"),s(I,"type","submit"),s(e,"id","create-server-form"),s(e,"class","flex flex-col"),s(o,"class","rounded-xl relative items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm px-6 py-12 w-[90%] mb-auto"),s(t,"class","w-full h-full flex items-center flex-col justify-center relative"),s(r,"class","main-content-container")},m(a,m){A(a,n,m),A(a,f,m),A(a,r,m),l(r,t),l(t,o),l(o,e),l(e,_),l(e,S),l(e,h),V(h,u[0]),l(e,T),l(e,g),l(g,v),V(v,u[1]),l(e,B),l(e,x),l(x,E),l(x,L),l(x,C),C.checked=u[2],l(e,O),l(e,I),l(o,R),i&&i.m(o,null),A(a,D,m),z||(J=[q(h,"input",u[5]),q(v,"input",u[6]),q(C,"change",u[7]),q(e,"submit",ae(u[4]))],z=!0)},p(a,[m]){m&1&&h.value!==a[0]&&V(h,a[0]),m&2&&V(v,a[1]),m&4&&(C.checked=a[2]),a[3]?i?i.p(a,m):(i=G(a),i.c(),i.m(o,null)):i&&(i.d(1),i=null),m&0&&N!==(N=M)&&(document.title=N)},i:$,o:$,d(a){a&&(c(n),c(f),c(r),c(D)),i&&i.d(),z=!1,Y(J)}}}const M="Create Server - Jolt";function de(u,n,f){const r=oe(ce);let t="",o="",e=!1,_;async function j(){if(t==""){f(3,_="Server name is required.");return}const{server:g,channels:v}=await r.api.createServer({name:t,description:o==""?void 0:o,nsfw:e});await ne(`${ie}/servers/${g._id}/channels/${v[0]._id}`)}function S(){t=this.value,f(0,t)}function h(){o=this.value,f(1,o)}function T(){e=this.checked,f(2,e)}return"__TAURI__"in window&&ue.setTitle(M),[t,o,e,_,j,S,h,T]}class ge extends Z{constructor(n){super(),ee(this,n,de,fe,Q,{})}}export{ge as component};
