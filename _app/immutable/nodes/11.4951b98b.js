import{s as G,n as F,h as Y}from"../chunks/scheduler.88206625.js";import{S as H,i as K,y,z as V,j as O,f as d,k as c,a as E,x as I,g as j,h as C,d as g,b as T,t as b,A as oe,e as S,p as A,m as q,s as D,n as L,c as U,o as R,r as P,u as X,v as J,C as W,w as Q}from"../chunks/index.3c623ae9.js";import{e as z}from"../chunks/each.e59479a4.js";import{g as se}from"../chunks/navigation.b7df27b1.js";import{b as ae}from"../chunks/paths.ae39869d.js";import{g as ce,c as fe}from"../chunks/context.3d02589b.js";import{b as ue,g as he}from"../chunks/util.9d7ab3cc.js";import{U as _e}from"../chunks/UserIcon.d6c5525a.js";function pe(o){let e,n;return{c(){e=y("svg"),n=y("path"),this.h()},l(t){e=V(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var l=O(e);n=V(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),O(n).forEach(d),l.forEach(d),this.h()},h(){c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"d","M4.5 12.75l6 6 9-13.5"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"width","24px"),c(e,"height","24px")},m(t,l){E(t,e,l),I(e,n)},p:F,i:F,o:F,d(t){t&&d(e)}}}class me extends H{constructor(e){super(),K(this,e,null,pe,G,{})}}function de(o){let e,n;return{c(){e=y("svg"),n=y("path"),this.h()},l(t){e=V(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var l=O(e);n=V(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),O(n).forEach(d),l.forEach(d),this.h()},h(){c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"d","M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"width","24px"),c(e,"height","24px")},m(t,l){E(t,e,l),I(e,n)},p:F,i:F,o:F,d(t){t&&d(e)}}}class ge extends H{constructor(e){super(),K(this,e,null,de,G,{})}}function ke(o){let e,n;return{c(){e=y("svg"),n=y("path"),this.h()},l(t){e=V(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,width:!0,height:!0});var l=O(e);n=V(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),O(n).forEach(d),l.forEach(d),this.h()},h(){c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"d","M6 18L18 6M6 6l12 12"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"width","24px"),c(e,"height","24px")},m(t,l){E(t,e,l),I(e,n)},p:F,i:F,o:F,d(t){t&&d(e)}}}class ve extends H{constructor(e){super(),K(this,e,null,ke,G,{})}}function Z(o,e,n){const t=o.slice();return t[6]=e[n].title,t[2]=e[n].list,t}function x(o,e,n){const t=o.slice();t[9]=e[n];const l=ue(t[9]);t[10]=l;const a=he(t[9]);return t[11]=a,t}function ee(o){let e,n=o[6]+"",t,l,a=o[2].length+"",s,i,r,f,B=z(o[2]),_=[];for(let u=0;u<B.length;u+=1)_[u]=ie(x(o,B,u));const N=u=>b(_[u],1,1,()=>{_[u]=null});return{c(){e=j("h1"),t=q(n),l=q(" -- "),s=q(a),i=D();for(let u=0;u<_.length;u+=1)_[u].c();r=S(),this.h()},l(u){e=C(u,"H1",{class:!0});var h=O(e);t=L(h,n),l=L(h," -- "),s=L(h,a),h.forEach(d),i=U(u);for(let p=0;p<_.length;p+=1)_[p].l(u);r=S(),this.h()},h(){c(e,"class","uppercase")},m(u,h){E(u,e,h),I(e,t),I(e,l),I(e,s),E(u,i,h);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(u,h);E(u,r,h),f=!0},p(u,h){if((!f||h&1)&&n!==(n=u[6]+"")&&R(t,n),(!f||h&1)&&a!==(a=u[2].length+"")&&R(s,a),h&3){B=z(u[2]);let p;for(p=0;p<B.length;p+=1){const k=x(u,B,p);_[p]?(_[p].p(k,h),g(_[p],1)):(_[p]=ie(k),_[p].c(),g(_[p],1),_[p].m(r.parentNode,r))}for(A(),p=B.length;p<_.length;p+=1)N(p);T()}},i(u){if(!f){for(let h=0;h<B.length;h+=1)g(_[h]);f=!0}},o(u){_=_.filter(Boolean);for(let h=0;h<_.length;h+=1)b(_[h]);f=!1},d(u){u&&(d(e),d(i),d(r)),oe(_,u)}}}function $e(o){let e,n;return e=new _e({}),{c(){P(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){J(e,t,l),n=!0},p:F,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function we(o){let e,n,t;return{c(){e=j("img"),this.h()},l(l){e=C(l,"IMG",{class:!0,alt:!0,src:!0,width:!0,height:!0}),this.h()},h(){c(e,"class","cover"),c(e,"alt",n=o[10]),Y(e.src,t=o[11])||c(e,"src",t),c(e,"width","64px"),c(e,"height","64px")},m(l,a){E(l,e,a)},p(l,a){a&1&&n!==(n=l[10])&&c(e,"alt",n),a&1&&!Y(e.src,t=l[11])&&c(e,"src",t)},i:F,o:F,d(l){l&&d(e)}}}function te(o){let e,n,t,l,a;n=new ge({});function s(){return o[3](o[9])}return{c(){e=j("button"),P(n.$$.fragment)},l(i){e=C(i,"BUTTON",{});var r=O(e);X(n.$$.fragment,r),r.forEach(d)},m(i,r){E(i,e,r),J(n,e,null),t=!0,l||(a=W(e,"click",s),l=!0)},p(i,r){o=i},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){b(n.$$.fragment,i),t=!1},d(i){i&&d(e),Q(n),l=!1,a()}}}function le(o){let e,n,t,l,a;n=new me({});function s(){return o[4](o[9])}return{c(){e=j("button"),P(n.$$.fragment)},l(i){e=C(i,"BUTTON",{});var r=O(e);X(n.$$.fragment,r),r.forEach(d)},m(i,r){E(i,e,r),J(n,e,null),t=!0,l||(a=W(e,"click",s),l=!0)},p(i,r){o=i},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){b(n.$$.fragment,i),t=!1},d(i){i&&d(e),Q(n),l=!1,a()}}}function ne(o){let e,n,t,l,a;n=new ve({});function s(){return o[5](o[9])}return{c(){e=j("button"),P(n.$$.fragment)},l(i){e=C(i,"BUTTON",{});var r=O(e);X(n.$$.fragment,r),r.forEach(d)},m(i,r){E(i,e,r),J(n,e,null),t=!0,l||(a=W(e,"click",s),l=!0)},p(i,r){o=i},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){b(n.$$.fragment,i),t=!1},d(i){i&&d(e),Q(n),l=!1,a()}}}function ie(o){let e,n,t,l,a,s=o[10]+"",i,r,f,B,_,N;const u=[we,$e],h=[];function p(m,v){return m[11]!=null?0:1}t=p(o),l=h[t]=u[t](o);let k=o[9].relationship=="Friend"&&te(o),$=o[9].relationship=="Incoming"&&le(o),w=(o[9].relationship=="Outgoing"||o[9].relationship=="Friend"||o[9].relationship=="Incoming")&&ne(o);return{c(){e=j("div"),n=j("div"),l.c(),a=D(),i=q(s),r=D(),k&&k.c(),f=D(),$&&$.c(),B=D(),w&&w.c(),_=D(),this.h()},l(m){e=C(m,"DIV",{class:!0});var v=O(e);n=C(v,"DIV",{class:!0});var M=O(n);l.l(M),a=U(M),i=L(M,s),M.forEach(d),r=U(v),k&&k.l(v),f=U(v),$&&$.l(v),B=U(v),w&&w.l(v),_=U(v),v.forEach(d),this.h()},h(){c(n,"class","p-2"),c(e,"class","flex")},m(m,v){E(m,e,v),I(e,n),h[t].m(n,null),I(n,a),I(n,i),I(e,r),k&&k.m(e,null),I(e,f),$&&$.m(e,null),I(e,B),w&&w.m(e,null),I(e,_),N=!0},p(m,v){let M=t;t=p(m),t===M?h[t].p(m,v):(A(),b(h[M],1,1,()=>{h[M]=null}),T(),l=h[t],l?l.p(m,v):(l=h[t]=u[t](m),l.c()),g(l,1),l.m(n,a)),(!N||v&1)&&s!==(s=m[10]+"")&&R(i,s),m[9].relationship=="Friend"?k?(k.p(m,v),v&1&&g(k,1)):(k=te(m),k.c(),g(k,1),k.m(e,f)):k&&(A(),b(k,1,1,()=>{k=null}),T()),m[9].relationship=="Incoming"?$?($.p(m,v),v&1&&g($,1)):($=le(m),$.c(),g($,1),$.m(e,B)):$&&(A(),b($,1,1,()=>{$=null}),T()),m[9].relationship=="Outgoing"||m[9].relationship=="Friend"||m[9].relationship=="Incoming"?w?(w.p(m,v),v&1&&g(w,1)):(w=ne(m),w.c(),g(w,1),w.m(e,_)):w&&(A(),b(w,1,1,()=>{w=null}),T())},i(m){N||(g(l),g(k),g($),g(w),N=!0)},o(m){b(l),b(k),b($),b(w),N=!1},d(m){m&&d(e),h[t].d(),k&&k.d(),$&&$.d(),w&&w.d()}}}function re(o){let e,n,t=o[2].length!=0&&ee(o);return{c(){t&&t.c(),e=S()},l(l){t&&t.l(l),e=S()},m(l,a){t&&t.m(l,a),E(l,e,a),n=!0},p(l,a){l[2].length!=0?t?(t.p(l,a),a&1&&g(t,1)):(t=ee(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(A(),b(t,1,1,()=>{t=null}),T())},i(l){n||(g(t),n=!0)},o(l){b(t),n=!1},d(l){l&&d(e),t&&t.d(l)}}}function be(o){let e,n,t=z(o[0]),l=[];for(let s=0;s<t.length;s+=1)l[s]=re(Z(o,t,s));const a=s=>b(l[s],1,1,()=>{l[s]=null});return{c(){e=j("main");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=C(s,"MAIN",{class:!0});var i=O(e);for(let r=0;r<l.length;r+=1)l[r].l(i);i.forEach(d),this.h()},h(){c(e,"class","main-content-container")},m(s,i){E(s,e,i);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null);n=!0},p(s,[i]){if(i&3){t=z(s[0]);let r;for(r=0;r<t.length;r+=1){const f=Z(s,t,r);l[r]?(l[r].p(f,i),g(l[r],1)):(l[r]=re(f),l[r].c(),g(l[r],1),l[r].m(e,null))}for(A(),r=t.length;r<l.length;r+=1)a(r);T()}},i(s){if(!n){for(let i=0;i<t.length;i+=1)g(l[i]);n=!0}},o(s){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)b(l[i]);n=!1},d(s){s&&d(e),oe(l,s)}}}function Be(o,e,n){let t;const l=ce(fe);let a=Array.from(l.api.cache.users.values()).filter(f=>f.relationship!=null&&["Outgoing","Incoming","Blocked","BlockedOther","Friend"].includes(f.relationship));const s=async f=>{const{_id:B}=await l.api.openDM(f._id);await se(`${ae}/channels/${B}`)},i=f=>l.api.acceptFriend(f._id),r=f=>l.api.removeFriend(f._id);return n(0,t=[{title:"Outgoing",list:a.filter(f=>f.relationship=="Outgoing")},{title:"Incoming",list:a.filter(f=>f.relationship=="Incoming")},{title:"Online",list:a.filter(f=>f.relationship=="Friend"&&f.online)},{title:"Offline",list:a.filter(f=>f.relationship=="Friend"&&!f.online)},{title:"Blocked",list:a.filter(f=>f.relationship=="Blocked")}]),[t,l,a,s,i,r]}class Te extends H{constructor(e){super(),K(this,e,Be,be,G,{})}}export{Te as component};
