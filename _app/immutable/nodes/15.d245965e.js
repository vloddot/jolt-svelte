import{s as Q,f as d,a as w,g as p,h as y,d as c,c as I,H as B,J as Y,j as s,i as j,z as l,O as U,I as V,M as Z,u as $,K as ee,l as te,m as ae,n as se}from"../chunks/scheduler.d49036d4.js";import{S as le,i as re}from"../chunks/index.90a2ee5d.js";import{g as ne}from"../chunks/navigation.916a2674.js";import{b as ie}from"../chunks/paths.8ac8206c.js";import{g as oe,c as ce}from"../chunks/context.c1c8751f.js";import{g as ue}from"../chunks/chunk-NMUKSDLG.3f77d6f4.js";function G(u){let n,f;return{c(){n=d("p"),f=te(u[3])},l(r){n=p(r,"P",{});var t=y(n);f=ae(t,u[3]),t.forEach(c)},m(r,t){j(r,n,t),l(n,f)},p(r,t){t&8&&se(f,r[3])},d(r){r&&c(n)}}}function fe(u){let n,f,r,t,o,e,_,A="Create Server",T,h,k,g,v,q,x,C,H="Is your server NSFW?",L,E,M,S,J="Create Server",R,N,D,z,K,i=u[3]&&G(u);return document.title=D=F,{c(){n=d("div"),f=w(),r=d("main"),t=d("div"),o=d("div"),e=d("form"),_=d("h1"),_.textContent=A,T=w(),h=d("input"),k=w(),g=d("div"),v=d("textarea"),q=w(),x=d("span"),C=d("label"),C.textContent=H,L=w(),E=d("input"),M=w(),S=d("button"),S.textContent=J,R=w(),i&&i.c(),N=w(),this.h()},l(a){n=p(a,"DIV",{class:!0}),y(n).forEach(c),f=I(a),r=p(a,"MAIN",{class:!0});var m=y(r);t=p(m,"DIV",{class:!0});var W=y(t);o=p(W,"DIV",{class:!0});var P=y(o);e=p(P,"FORM",{id:!0,class:!0});var b=y(e);_=p(b,"H1",{class:!0,"data-svelte-h":!0}),B(_)!=="svelte-1st1u6t"&&(_.textContent=A),T=I(b),h=p(b,"INPUT",{class:!0,type:!0,placeholder:!0}),k=I(b),g=p(b,"DIV",{class:!0});var X=y(g);v=p(X,"TEXTAREA",{class:!0,placeholder:!0}),y(v).forEach(c),X.forEach(c),q=I(b),x=p(b,"SPAN",{class:!0});var O=y(x);C=p(O,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),B(C)!=="svelte-1lqv1kj"&&(C.textContent=H),L=I(O),E=p(O,"INPUT",{type:!0,name:!0}),O.forEach(c),M=I(b),S=p(b,"BUTTON",{type:!0,"data-svelte-h":!0}),B(S)!=="svelte-sjlv6i"&&(S.textContent=J),b.forEach(c),R=I(P),i&&i.l(P),P.forEach(c),W.forEach(c),m.forEach(c),N=I(a),Y("svelte-1gb01zc",document.head).forEach(c),this.h()},h(){s(n,"class","channel-bar-container"),s(_,"class","text-3xl"),s(h,"class","bg-gray-500 mb-3 rounded-md"),s(h,"type","text"),s(h,"placeholder","What do you want to name your server?"),s(v,"class","outline-none bg-inherit w-full"),s(v,"placeholder","Describe your server (Optional)"),s(g,"class","bg-gray-500 rounded-xl pt-2 px-2"),s(C,"class","pr-2"),s(C,"for","nsfw"),s(E,"type","checkbox"),s(E,"name","nsfw"),s(x,"class","flex justify-center"),s(S,"type","submit"),s(e,"id","create-server-form"),s(e,"class","flex flex-col"),s(o,"class","rounded-xl relative items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm px-6 py-12 w-[90%] mb-auto"),s(t,"class","w-full h-full flex items-center flex-col justify-center relative"),s(r,"class","main-content-container")},m(a,m){j(a,n,m),j(a,f,m),j(a,r,m),l(r,t),l(t,o),l(o,e),l(e,_),l(e,T),l(e,h),U(h,u[0]),l(e,k),l(e,g),l(g,v),U(v,u[1]),l(e,q),l(e,x),l(x,C),l(x,L),l(x,E),E.checked=u[2],l(e,M),l(e,S),l(o,R),i&&i.m(o,null),j(a,N,m),z||(K=[V(h,"input",u[5]),V(v,"input",u[6]),V(E,"change",u[7]),V(e,"submit",Z(u[4]))],z=!0)},p(a,[m]){m&1&&h.value!==a[0]&&U(h,a[0]),m&2&&U(v,a[1]),m&4&&(E.checked=a[2]),a[3]?i?i.p(a,m):(i=G(a),i.c(),i.m(o,null)):i&&(i.d(1),i=null),m&0&&D!==(D=F)&&(document.title=D)},i:$,o:$,d(a){a&&(c(n),c(f),c(r),c(N)),i&&i.d(),z=!1,ee(K)}}}const F="Create Server - Jolt";function de(u,n,f){const r=oe(ce);let t="",o="",e=!1,_;async function A(){if(t==""){f(3,_="Server name is required.");return}const{server:g,channels:v}=await r.api.createServer({name:t,description:o==""?void 0:o,nsfw:e});await ne(`${ie}/servers/${g._id}/channels/${v[0]._id}`)}function T(){t=this.value,f(0,t)}function h(){o=this.value,f(1,o)}function k(){e=this.checked,f(2,e)}return"__TAURI__"in window&&ue.setTitle(F),[t,o,e,_,A,T,h,k]}class ge extends le{constructor(n){super(),re(this,n,de,fe,Q,{})}}export{ge as component};
